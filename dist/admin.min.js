!function(o){function e(e){for(var t,n,r=e[0],a=e[1],s=e[2],i=0,c=[];i<r.length;i++)n=r[i],l[n]&&c.push(l[n][0]),l[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);c.length;)c.shift()();return p.push.apply(p,s||[]),u()}function u(){for(var e,t=0;t<p.length;t++){for(var n=p[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==l[s]&&(r=!1)}r&&(p.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},l={1:0},p=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.wpshopify=window.wpshopify||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var d=r;p.push([873,0,3]),u()}({873:function(e,t,n){"use strict";n.r(t);n(569),n(720);var r=n(407),a=n.n(r),s=n(40),i=n.n(s),c=n(53),o=n.n(c),u=n(33),d=n.n(u),l=n(32),p=n.n(l),g=n(41),f=n.n(g),h=n(86),y=n.n(h),m=n(28),w=n.n(m),v=n(45),b=n.n(v),_=n(408),x=n.n(_),k=n(409),S=n.n(k),j=n(66),C=n.n(j),P=n(144),T=n.n(P);function Q(e){return anime({targets:e.toArray(),translateX:["-200%","0%"],opacity:1,duration:260,delay:0,elasticity:40,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1.6,duration:200,elasticity:0,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1,duration:800,elasticity:0,easing:"easeOutExpo"})}})}})}var W=n(5),E=n.n(W),z=n(15),I=n.n(z),H=n(16),O=n.n(H),B=n(14),A=n(61),M=n.n(A),L=n(183),U=n.n(L),D=n(105),N=n.n(D),R=(n(410),n(185)),q=n.n(R),F=(n(70),n(261)),V=n.n(F),Y=(n(255),n(262)),$=n.n(Y),G=n(258),J=n.n(G),X=n(411),K=n.n(X),Z=n(184),ee=n.n(Z),te=n(412),ne=n.n(te),re=n(106),ae=n.n(re);function se(){return"true"===localStorage.getItem("wps-connection-in-progress")}function ie(e){localStorage.setItem("wps-connection-in-progress",e)}function ce(){return localStorage.getItem("wps-modal-connector-cache")}function oe(e){localStorage.setItem("wps-is-canceling",e)}function ue(){return"true"===localStorage.getItem("wps-is-canceling")&&(jQuery(".wps-connector").addClass("wps-is-stopping"),!0)}function le(){localStorage.clear(),WP_Shopify.manuallyCanceled=!1,WP_Shopify.reconnectingWebhooks=!1,WP_Shopify.isSyncing=!1,WP_Shopify.isClearing=!1,WP_Shopify.isConnecting=!1,WP_Shopify.isDisconnecting=!1}var pe=n(85),de=n.n(pe),ge=function(){return ha(WP_Shopify.selective_sync.all)},fe=function(){return ha(ge()||WP_Shopify.selective_sync.products)},he=function(){return ha(ge()||WP_Shopify.selective_sync.products)},ye=function(){return ha(ge()||WP_Shopify.selective_sync.custom_collections||WP_Shopify.selective_sync.smart_collections)},me=function(){return ha(ge()||WP_Shopify.selective_sync.shop)},we=function(){return ha(WP_Shopify.isConnecting)},ve=function(){return ha(WP_Shopify.reconnectingWebhooks)},be=function(){return WP_Shopify.selective_sync};function _e(e,t,n){return{statusCode:e.status,message:t,action_name:n}}function xe(e){if(e)return!e.success}function ke(e){return b()(e,xe)}function Se(e){return t=ke(e),p()(t)?t[0]:t;var t}function je(e){if(e)return!$()([e],"type")}function Ce(e){if(ge())return e;if((we()||ve())&&e.hasOwnProperty("webhooks"))return e;var t,n=(t=be(),J()(t,function(e,t){return 1==e})),r=Object.getOwnPropertyNames(e)[0];return n.hasOwnProperty(r)?e:w()(n,"products")&&w()(e,"collects")?e:void 0}function Pe(){return void 0!==WP_Shopify.hasConnection&&(!0===WP_Shopify.hasConnection||(1===WP_Shopify.hasConnection||"1"===WP_Shopify.hasConnection))}function Te(e){return b()(e,function(e){return!f()(K()(e,function(e,t){return 0===(n=e)||"0"===n;var n}))})}function Qe(e){return b()(e,je)}function We(e){return b()(e,Ce)}function Ee(e,r){return b()(e,function(t){var n=!1;return i()(r,function(e){w()(t,e)&&(n=!0)}),!n})}function ze(e){WP_Shopify.hasConnection=e}function Ie(e){return t=e,n=!1,i()(t,function(e){"error"===e.type&&(n=!0)}),n?ee()(V()(e),"message"):V()(e,Pe()?[{type:"success",message:"Success! You've finished syncing your Shopify store with WordPress."}]:[{type:"success",message:"Success! You've finished disconnecting your Shopify store from WordPress."}]);var t,n}function He(e){var t=ne()(e);return ae()(t)||t<=0?"auto":t}var Oe=function(){return WP_Shopify.nonce_api};function Be(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=get_version&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(_e(e,n,"edd_action=get_version"))}})})}function Ae(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=check_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(_e(e,n,"edd_action=check_license"))}})})}function Me(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=activate_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(_e(e,n,"edd_action=activate_license"))}})})}function Le(e){return Ne("get",e)}function Ue(e){return Ne("post",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function De(e){return Ne("delete",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function Ne(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(t,n){U()({method:e,url:r,data:a,headers:{"X-WP-Nonce":Oe()}}).then(function(e){return t(e)}).catch(function(e){return n({statusCode:(t=e.response).status,message:t.data.message,action_name:t.data.code});var t})})}function Re(){return WP_Shopify.API.restUrl+WP_Shopify.API.namespace+"/"}function qe(){return Re()+"syncing/notices"}function Fe(){return Re()+"syncing/counts"}function Ve(){return Re()+"cache"}function Ye(){return Re()+"clear/all"}function $e(){return Re()+"clear/synced"}function Ge(){return Re()+"license"}function Je(){return Re()+"connection"}function Xe(){return Re()+"connection/check"}function Ke(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"smart_collections",e)}function Ze(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"custom_collections",e)}function et(){return Ue(Re()+"smart_collections/count")}function tt(){return Ue(Re()+"custom_collections/count")}function nt(){return Ue(Re()+"collections")}function rt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"shop",e)}function at(){return Ue(Re()+"shop/count")}function st(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"products",e)}function it(){return Ue(Re()+"products/count")}function ct(){return Ue(Re()+"products/ids")}function ot(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"collects",e)}function ut(){return Ue(Re()+"collects/count")}n(413),n(414);var lt=n(415),pt=n.n(lt),dt=(n(84),n(263)),gt=n.n(dt);function ft(){return Le(Re()+"syncing/status")}function ht(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Re()+"syncing/indicator",e)}function yt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Fe(),e)}var mt=n(416),wt=n.n(mt);function vt(){WP_Shopify.timers.syncing&&WP_Shopify.timers.syncing.stop()}function bt(){var t,e=new wt.a;(t=e).addEventListener("secondsUpdated",function(e){jQuery("#wps-sync-duration").html(t.getTimeValues().toString())}),e.start(),WP_Shopify.timers.syncing=e}function _t(){return Ue(Re()+"posts/products")}function xt(){return Ue(Re()+"posts/collections")}function kt(e){return Ue(Re()+"settings/products_add_to_cart_color",e)}function St(e){return Ue(Re()+"settings/products_variant_color",e)}function jt(e){return Ue(Re()+"settings/cart_checkout_color",e)}function Ct(e){return Ue(Re()+"settings/cart_counter_color",e)}function Pt(e){return Ue(Re()+"settings/cart_icon_color",e)}function Tt(){return Le(Re()+"settings/selected_collections")}function Qt(){ue()||(jQuery(".wps-connector").addClass("wps-is-stopping"),oa(Kr()),Ur("Stopping"),Dr(),Nr("Canceling, please wait ...","(This may take up to 30 seconds)"),oe(!0))}function Wt(){return Promise.all([De(Re()+"notices"),De(qe()),De(Ve())])}function Et(){return Promise.all([new Promise((r=O()(E.a.mark(function e(t,n){var r,a,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fe()){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,Object(B.a)(_t());case 4:r=e.sent,a=I()(r,2),s=a[0],i=a[1],s?n(s):t(i);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})),new Promise((n=O()(E.a.mark(function e(t,n){var r,a,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ye()){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,Object(B.a)(xt());case 4:r=e.sent,a=I()(r,2),s=a[0],i=a[1],s?n(s):t(i);case 9:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}))]);var n,r}function zt(e){return{xMark:!0,stepText:"Syncing failed",headingText:"Syncing failed",noticeList:[{type:na(e),message:ta(e)}]}}function It(e){return{xMark:!0,stepText:"Syncing failed from client-side",headingText:"Syncing failed",noticeList:[{type:"error",message:ra(e)}]}}function Ht(){return ht({syncing:!0})}var Ot=n(125),Bt=n.n(Ot),At=n(22),Mt=n.n(At),Lt=n(23),Ut=n.n(Lt),Dt=n(24),Nt=n.n(Dt),Rt=n(25),qt=n.n(Rt),Ft=n(26),Vt=n.n(Ft),Yt=n(4),$t=n.n(Yt),Gt=n(12),Jt=n.n(Gt),Xt=n(3),Kt=n.n(Xt),Zt=n(18),en=n.n(Zt),tn=n(417);function nn(){var n;jQuery(".wps-notice .notice-dismiss").on("click",(n=O()(E.a.mark(function e(t,n){var r,a,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jQuery(this).parent(".notice.is-dismissible"),a=r.attr("data-dismiss-name"))return e.next=5,Object(B.a)(Ue(Re()+"notices/dismiss",{dismiss_name:a}));e.next=9;break;case 5:s=e.sent,(i=I()(s,2))[0],i[1];case 9:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}))}var rn=n(30),an=n.n(rn);function sn(e){return{backgroundColor:e,width:"40px",height:"20px"}}var cn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"updateColor",function(e){return St(e)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(dn,{color:WP_Shopify.settings.colorVariant,updateColor:this.updateColor,pickerType:"variant"})}}]),s}(Kt.a.Component),on=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"updateColor",function(e){return kt(e)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(dn,{color:WP_Shopify.settings.colorAddToCart,updateColor:this.updateColor,pickerType:"add-to-cart"})}}]),s}(Kt.a.Component),un=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"updateColor",function(e){return jt(e)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(dn,{color:WP_Shopify.settings.colorCheckout,updateColor:this.updateColor,pickerType:"checkout"})}}]),s}(Kt.a.Component),ln=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"updateColor",function(e){return Ct(e)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(dn,{color:WP_Shopify.settings.colorCartCounter,updateColor:this.updateColor,pickerType:"cart-counter"})}}]),s}(Kt.a.Component),pn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"updateColor",function(e){return Pt(e)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(dn,{color:WP_Shopify.settings.colorCartIcon,updateColor:this.updateColor,pickerType:"cart-icon"})}}]),s}(Kt.a.Component),dn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{ready:!1,displayColorPicker:!1,color:t.props.color,pickerStyles:an()({default:{wrapper:{padding:"4px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),swatchStyles:sn(t.props.color),componentId:"wps-component-"+t.props.pickerType+"-color-swatch",colorHasChanged:!1,submitButton:jQuery("#submitSettings")}),Jt()($t()($t()(t)),"componentDidMount",function(e){jQuery('[data-testid="'+t.state.componentId+'"]').closest(".wps-form-group").find(".wps-placeholder").remove()}),Jt()($t()($t()(t)),"closePicker",function(){return t.setState({displayColorPicker:!1})}),Jt()($t()($t()(t)),"handleClick",function(){return t.setState({displayColorPicker:!t.state.displayColorPicker})}),Jt()($t()($t()(t)),"handleClose",O()(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.colorHasChanged){e.next=2;break}return e.abrupt("return",t.closePicker());case 2:t.closePicker();case 3:case"end":return e.stop()}},e,this)}))),Jt()($t()($t()(t)),"handleChange",function(e){t.setState({swatchStyles:sn(e.hex),color:e.hex,colorHasChanged:e.hex!==t.state.color})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement("div",null,Kt.a.createElement("div",{className:"wps-color-swatch-wrapper",style:this.state.pickerStyles.wrapper,onClick:this.handleClick,"data-testid":this.state.componentId},Kt.a.createElement("div",{className:"wps-color-swatch",style:this.state.swatchStyles,"data-color":this.state.color,"data-picker-type":this.props.pickerType})),this.state.displayColorPicker?Kt.a.createElement("div",{style:this.state.pickerStyles.popover},Kt.a.createElement("div",{style:this.state.pickerStyles.cover,onClick:this.handleClose}),Kt.a.createElement(tn.ChromePicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),s}(Kt.a.Component);var gn=n(29),fn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:WP_Shopify.settings.productsHeading}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-products-heading-toggle",disabled:!ha(WP_Shopify.settings.productsHeadingToggle)})}}]),s}(Kt.a.Component);var hn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:WP_Shopify.settings.collectionsHeading}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-heading-toggle",disabled:!ha(WP_Shopify.settings.collectionsHeadingToggle)})}}]),s}(Kt.a.Component);var yn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{value:WP_Shopify.settings.relatedProductsHeading,valueHasChanged:!1}),Jt()($t()($t()(n)),"updateValue",function(e){e!==n.state.value&&(n.state.valueHasChanged=!0),n.setState({value:e})}),Jt()($t()($t()(n)),"onRelatedProductsHeadingBlur",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.valueHasChanged){e.next=2;break}return e.abrupt("return",n.state.value);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{value:this.state.value,onChange:this.updateValue,onBlur:this.onRelatedProductsHeadingBlur,"aria-describedby":"wps-related-products-heading-toggle",disabled:!ha(WP_Shopify.settings.relatedProductsHeadingToggle)})}}]),s}(Kt.a.Component);var mn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{checked:ha(WP_Shopify.settings.productsHeadingToggle)}),Jt()($t()($t()(n)),"onChangeHandle",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-products-heading-toggle"})}}]),s}(Kt.a.Component);var wn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{checked:ha(WP_Shopify.settings.collectionsHeadingToggle)}),Jt()($t()($t()(t)),"onToggleHandle",function(e){t.setState(function(e){return{checked:!t.state.checked}}),jQuery('input[aria-describedby="wps-collections-heading-toggle"]').attr("disabled",t.state.checked)}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-heading-toggle"})}}]),s}(Kt.a.Component);var vn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{checked:ha(WP_Shopify.settings.relatedProductsHeadingToggle)}),Jt()($t()($t()(n)),"onToggle",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-related-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onToggle,id:"wps-related-products-heading-toggle"})}}]),s}(Kt.a.Component);var bn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{checked:ha(WP_Shopify.settings.productsImagesSizingToggle)}),Jt()($t()($t()(n)),"onToggleHandle",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-products-images-sizing-toggle"})}}]),s}(Kt.a.Component);var _n=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingWidth?"auto":WP_Shopify.settings.productsImagesSizingWidth}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(Kt.a.Component);var xn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingHeight?"auto":WP_Shopify.settings.productsImagesSizingHeight}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(Kt.a.Component);var kn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:WP_Shopify.settings.productsImagesSizingCrop}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Sn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:!1===WP_Shopify.settings.productsImagesSizingScale?"none":WP_Shopify.settings.productsImagesSizingScale}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(Kt.a.Component);var jn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{checked:ha(WP_Shopify.settings.collectionsImagesSizingToggle)}),Jt()($t()($t()(n)),"onToggleHandle",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-collections-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-images-sizing-toggle"})}}]),s}(Kt.a.Component);var Cn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingWidth?"auto":WP_Shopify.settings.collectionsImagesSizingWidth}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Pn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingHeight?"auto":WP_Shopify.settings.collectionsImagesSizingHeight}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Tn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:WP_Shopify.settings.collectionsImagesSizingCrop}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Qn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:!1===WP_Shopify.settings.collectionsImagesSizingScale?"none":WP_Shopify.settings.collectionsImagesSizingScale}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Wn=function(e){function s(){var e,n;Mt()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(n)),"state",{checked:ha(WP_Shopify.settings.relatedProductsImagesSizingToggle)}),Jt()($t()($t()(n)),"onToggleHandle",function(){var t=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-related-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-related-products-images-sizing-toggle"})}}]),s}(Kt.a.Component);n(872);var En=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingWidth?"auto":WP_Shopify.settings.relatedProductsImagesSizingWidth,valueHasChanged:!1}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(Kt.a.Component);var zn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingHeight?"auto":WP_Shopify.settings.relatedProductsImagesSizingHeight,valueHasChanged:!1}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),Jt()($t()($t()(t)),"onBlurHandle",function(e){t.setState({value:He(e.currentTarget.value)})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(Kt.a.Component);var In=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:WP_Shopify.settings.relatedProductsImagesSizingCrop}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(Kt.a.Component);var Hn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:!1===WP_Shopify.settings.relatedProductsImagesSizingScale?"none":WP_Shopify.settings.relatedProductsImagesSizingScale}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!ha(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(Kt.a.Component);var On=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{checked:ha(WP_Shopify.settings.enableCustomCheckoutDomain)}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({checked:!t.state.checked})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.c,{checked:this.state.checked,onChange:this.onUpdateHandle})}}]),s}(Kt.a.Component);n(20);var Bn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{checked:ha(WP_Shopify.settings.productsCompareAt)}),Jt()($t()($t()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(Kt.a.Component);var An=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{checked:ha(WP_Shopify.settings.productsShowPriceRange)}),Jt()($t()($t()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(Kt.a.Component);var Mn=function(e){function s(){var e,t;Mt()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=Nt()(this,(e=qt()(s)).call.apply(e,[this].concat(r))),Jt()($t()($t()(t)),"state",{value:!1===WP_Shopify.settings.checkoutButtonTarget?"none":WP_Shopify.settings.checkoutButtonTarget}),Jt()($t()($t()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return Vt()(s,e),Ut()(s,[{key:"render",value:function(){return Kt.a.createElement(gn.i,{value:this.state.value,options:[{label:"Current tab / window",value:"_self"},{label:"New tab / window",value:"_blank"}],onChange:this.onUpdateHandle})}}]),s}(Kt.a.Component);function Ln(e){return"undefined"===Bt()(e)}function Un(e,t,n){var r=e.find(t).attr(n);return!Ln(r)&&r}function Dn(e,t){var n=e.find(t).prop("checked");return!Ln(n)&&n}function Nn(e,t){var n=e.find(t).val();return!Ln(n)&&n}function Rn(){if(WP_Shopify.selective_sync.all)return[];return[]}function qn(e){var t=jQuery("#wps-sync-by-collections");t.empty(),i()(e,function(e){t.append('<option id="wps-collection-option" value="'+e.id+'">'+e.title+"</option>")})}function Fn(){return Vn.apply(this,arguments)}function Vn(){return(Vn=O()(E.a.mark(function e(){var t,n,r,a,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=2;break}return e.abrupt("return",Rr());case 2:return e.next=4,Object(B.a)(Promise.all([nt(),Tt()]));case 4:if(t=e.sent,n=I()(t,2),r=n[0],a=n[1],r)return e.abrupt("return",Rr(ra(r)));e.next=10;break;case 10:if(Zr(a))return e.abrupt("return",Rr(ta(Se(a))));e.next=12;break;case 12:s=a[0],a[1],200===s.status&&w()(s,"data")?qn(s.data):Rr();case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Yn(){var t,e,n;jQuery("#wps-settings").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_general[wps_general_url_products]":{alphaNumeric:!1},"wps_settings_general[wps_general_url_collections]":{alphaNumeric:!1},"wps_settings_general[wps_general_num_posts]":{number:!0}},errorPlacement:function(e){Yr(e.text(),"error")},submitHandler:(t=O()(E.a.mark(function e(r){var a,s,i,c,o,u,l,p,d,g,f,h;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=jQuery(r),s=a.find('input[type="submit"]'),i=a.find(".spinner"),oa(s),qr(i),c={wps_settings_general_products_url:Nn(n=a,"#wps_settings_general_url_products"),wps_settings_general_collections_url:Nn(n,"#wps_settings_general_url_collections"),wps_settings_general_num_posts:Nn(n,"#wps_settings_general_num_posts"),wps_settings_general_products_link_to_shopify:Dn(n,"#wps_settings_general_products_link_to_shopify"),wps_settings_general_show_breadcrumbs:Dn(n,"#wps_settings_general_show_breadcrumbs"),wps_settings_general_hide_pagination:Dn(n,"#wps_settings_general_hide_pagination"),wps_settings_general_styles_all:Dn(n,"#wps_settings_general_styles_all"),wps_settings_general_styles_core:Dn(n,"#wps_settings_general_styles_core"),wps_settings_general_styles_grid:Dn(n,"#wps_settings_general_styles_grid"),wps_settings_general_price_with_currency:Dn(n,"#wps_settings_general_price_with_currency"),wps_settings_general_cart_loaded:Dn(n,"#wps_settings_general_cart_loaded"),wps_settings_general_enable_beta:Dn(n,"#wps_settings_general_enable_beta"),wps_settings_general_enable_cart_terms:Dn(n,"#wps_settings_general_enable_cart_terms"),wps_settings_general_save_connection_only:Dn(n,"#wps_settings_general_save_connection_only"),wps_settings_general_related_products_show:Dn(n,"#wps_settings_general_related_products_show"),wps_settings_general_related_products_sort:Nn(n,"#wps_settings_general_related_products_sort_type input:checked"),wps_settings_general_related_products_amount:Nn(n,"#wps_settings_general_related_products_amount"),wps_settings_general_cart_terms_content:Nn(n,"#wps_settings_general_cart_terms_content"),wps_settings_general_items_per_request:parseInt(n.find("#wps-items-per-request-amount").text()),wps_settings_general_add_to_cart_color:Un(n,'.wps-color-swatch[data-picker-type="add-to-cart"]',"data-color"),wps_settings_general_variant_color:Un(n,'.wps-color-swatch[data-picker-type="variant"]',"data-color"),wps_settings_general_checkout_button_color:Un(n,'.wps-color-swatch[data-picker-type="checkout"]',"data-color"),wps_settings_general_cart_icon_color:Un(n,'.wps-color-swatch[data-picker-type="cart-icon"]',"data-color"),wps_settings_general_cart_counter_color:Un(n,'.wps-color-swatch[data-picker-type="cart-counter"]',"data-color"),wps_settings_general_products_heading_toggle:Dn(n,"#wps-products-heading-toggle"),wps_settings_general_products_heading:Nn(n,"#wps-settings-products-heading input"),wps_settings_general_collections_heading_toggle:Dn(n,"#wps-collections-heading-toggle"),wps_settings_general_collections_heading:Nn(n,"#wps-settings-collections-heading input"),wps_settings_general_related_products_heading_toggle:Dn(n,"#wps-related-products-heading-toggle"),wps_settings_general_related_products_heading:Nn(n,"#wps-settings-related-products-heading input"),wps_settings_products_images_sizing_toggle:Dn(n,"#wps-products-images-sizing-toggle"),wps_settings_products_images_sizing_width:Nn(n,"#wps-settings-products-images-sizing-width input"),wps_settings_products_images_sizing_height:Nn(n,"#wps-settings-products-images-sizing-height input"),wps_settings_products_images_sizing_crop:Nn(n,"#wps-settings-products-images-sizing-crop select"),wps_settings_products_images_sizing_scale:Nn(n,"#wps-settings-products-images-sizing-scale select"),wps_settings_collections_images_sizing_toggle:Dn(n,"#wps-settings-collections-images-sizing-toggle input"),wps_settings_collections_images_sizing_width:Nn(n,"#wps-settings-collections-images-sizing-width input"),wps_settings_collections_images_sizing_height:Nn(n,"#wps-settings-collections-images-sizing-height input"),wps_settings_collections_images_sizing_crop:Nn(n,"#wps-settings-collections-images-sizing-crop select"),wps_settings_collections_images_sizing_scale:Nn(n,"#wps-settings-collections-images-sizing-scale select"),wps_settings_related_products_images_sizing_toggle:Dn(n,"#wps-related-products-images-sizing-toggle"),wps_settings_related_products_images_sizing_width:Nn(n,"#wps-settings-related-products-images-sizing-width input"),wps_settings_related_products_images_sizing_height:Nn(n,"#wps-settings-related-products-images-sizing-height input"),wps_settings_related_products_images_sizing_crop:Nn(n,"#wps-settings-related-products-images-sizing-crop select"),wps_settings_related_products_images_sizing_scale:Nn(n,"#wps-settings-related-products-images-sizing-scale select"),wps_settings_products_compare_at:Dn(n,"#wps-settings-products-compare-at input"),wps_settings_checkout_enable_custom_checkout_domain:Dn(n,"#wps-enable-custom-checkout-domain input"),wps_settings_products_show_price_range:Dn(n,"#wps-settings-products-show-price-range input"),wps_settings_checkout_button_target:Nn(n,"#wps-settings-checkout-button-target select")},t=c,WP_Shopify.itemsPerRequest=t.wps_settings_general_items_per_request,WP_Shopify.settings.connection.saveConnectionOnly=t.wps_settings_general_save_connection_only,e.next=9,Object(B.a)(Ue(Re()+"settings",{settings:c}));case 9:if(o=e.sent,u=I()(o,2),l=u[0],p=u[1],l)return Yr(ra(l)),e.abrupt("return");e.next=16;break;case 16:if(Zr(p))return Yr(ta(p),na(p)),e.abrupt("return");e.next=19;break;case 19:return e.next=21,Object(B.a)(Wt());case 21:if(d=e.sent,g=I()(d,2),f=g[0],h=g[1],f)return Yr(ra(f)),e.abrupt("return");e.next=28;break;case 28:if(Zr(h))return Yr(ta(h),na(h)),e.abrupt("return");e.next=31;break;case 31:Yr("Successfully updated WP Shopify settings","updated");case 32:case"end":return e.stop()}var t,n},e,this)})),function(e){return t.apply(this,arguments)})}),jQuery(".wps-checkbox-all input").on("click",function(){var e=jQuery(this);"undefined"!==Bt()(e.attr("checked"))&&!1!==e.attr("checked")?e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("checked",!1).prop("checked",!1).attr("disabled",!0).parent().addClass("wps-is-disabled"):e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("disabled",!1).parent().removeClass("wps-is-disabled")}),jQuery(".wps-sub-section-link").on("click",function(e){e.preventDefault();var t=jQuery(this).data("sub-section");jQuery(".wps-sub-section-link").removeClass("current"),jQuery(this).addClass("current"),jQuery(".wps-admin-sub-section").removeClass("is-active"),jQuery("#"+t).addClass("is-active")}),jQuery(".wps-chosen").chosen({no_results_text:"Oops, nothing found!",width:"300px"}).change(function(e){}),Fn(),e=jQuery(".wps-slider-items-per-request"),n=jQuery("#wps-items-per-request-amount"),e.slider({range:"max",value:parseInt(n.text()),min:1,max:parseInt(WP_Shopify.maxItemsPerRequest),slide:function(e,t){n.text(t.value)}}),en.a.render(Kt.a.createElement(on,null),document.getElementById("wps-color-picker-add-to-cart")),en.a.render(Kt.a.createElement(cn,null),document.getElementById("wps-color-picker-variant")),en.a.render(Kt.a.createElement(un,null),document.getElementById("wps-color-picker-checkout")),en.a.render(Kt.a.createElement(ln,null),document.getElementById("wps-color-picker-cart-counter")),en.a.render(Kt.a.createElement(pn,null),document.getElementById("wps-color-picker-cart-icon")),en.a.render(Kt.a.createElement(mn,null),document.getElementById("wps-settings-products-heading-toggle")),en.a.render(Kt.a.createElement(fn,null),document.getElementById("wps-settings-products-heading")),en.a.render(Kt.a.createElement(wn,null),document.getElementById("wps-settings-collections-heading-toggle")),en.a.render(Kt.a.createElement(hn,null),document.getElementById("wps-settings-collections-heading")),en.a.render(Kt.a.createElement(yn,null),document.getElementById("wps-settings-related-products-heading")),en.a.render(Kt.a.createElement(vn,null),document.getElementById("wps-settings-related-products-heading-toggle")),en.a.render(Kt.a.createElement(bn,null),document.getElementById("wps-settings-products-images-sizing-toggle")),en.a.render(Kt.a.createElement(_n,null),document.getElementById("wps-settings-products-images-sizing-width")),en.a.render(Kt.a.createElement(xn,null),document.getElementById("wps-settings-products-images-sizing-height")),en.a.render(Kt.a.createElement(kn,null),document.getElementById("wps-settings-products-images-sizing-crop")),en.a.render(Kt.a.createElement(Sn,null),document.getElementById("wps-settings-products-images-sizing-scale")),en.a.render(Kt.a.createElement(jn,null),document.getElementById("wps-settings-collections-images-sizing-toggle")),en.a.render(Kt.a.createElement(Cn,null),document.getElementById("wps-settings-collections-images-sizing-width")),en.a.render(Kt.a.createElement(Pn,null),document.getElementById("wps-settings-collections-images-sizing-height")),en.a.render(Kt.a.createElement(Tn,null),document.getElementById("wps-settings-collections-images-sizing-crop")),en.a.render(Kt.a.createElement(Qn,null),document.getElementById("wps-settings-collections-images-sizing-scale")),en.a.render(Kt.a.createElement(Wn,null),document.getElementById("wps-settings-related-products-images-sizing-toggle")),en.a.render(Kt.a.createElement(En,null),document.getElementById("wps-settings-related-products-images-sizing-width")),en.a.render(Kt.a.createElement(zn,null),document.getElementById("wps-settings-related-products-images-sizing-height")),en.a.render(Kt.a.createElement(In,null),document.getElementById("wps-settings-related-products-images-sizing-crop")),en.a.render(Kt.a.createElement(Hn,null),document.getElementById("wps-settings-related-products-images-sizing-scale")),en.a.render(Kt.a.createElement(On,null),document.getElementById("wps-enable-custom-checkout-domain")),en.a.render(Kt.a.createElement(Bn,null),document.getElementById("wps-settings-products-compare-at")),en.a.render(Kt.a.createElement(An,null),document.getElementById("wps-settings-products-show-price-range")),en.a.render(Kt.a.createElement(Mn,null),document.getElementById("wps-settings-checkout-button-target"))}function $n(e){return e.preventDefault(),Lr("Disconnecting","Cancel disconnecting"),new Promise(function(){var n=O()(E.a.mark(function e(t,n){var r,a,s,i,c,o,u,l,p,d,g,f,h,y,m,w,v,b,_,x;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Nr("Checking for active connection ..."),WP_Shopify.isDisconnecting=!0,e.next=4,Object(B.a)(Ht());case 4:if(r=e.sent,a=I()(r,2),s=a[0],i=a[1],s)return rr(It(s)),e.abrupt("return",t());e.next=11;break;case 11:if(Zr(i))return rr(zt(Se(i))),e.abrupt("return",t());e.next=14;break;case 14:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());e.next=17;break;case 17:return Dr(),Nr("Removing added Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),e.next=21,Object(B.a)(De($e()));case 21:if(c=e.sent,o=I()(c,2),u=o[0],l=o[1],u)return rr(It(u)),e.abrupt("return",t());e.next=28;break;case 28:if(Zr(l))return rr(zt(Se(l))),e.abrupt("return",t());e.next=31;break;case 31:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());e.next=34;break;case 34:return ze(!1),e.next=37,Object(B.a)(De(Je()));case 37:if(p=e.sent,d=I()(p,2),g=d[0],f=d[1],g)return rr(It(g)),e.abrupt("return",t());e.next=44;break;case 44:if(Zr(f))return rr(zt(Se(f))),e.abrupt("return",t());e.next=47;break;case 47:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());e.next=50;break;case 50:return Dr(),Nr("Cleaning up ..."),e.next=54,Object(B.a)(ht({syncing:!1}));case 54:if(h=e.sent,y=I()(h,2),m=y[0],w=y[1],m)return rr(It(m)),e.abrupt("return",t());e.next=61;break;case 61:if(Zr(w))return rr(zt(Se(w))),e.abrupt("return",t());e.next=64;break;case 64:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());e.next=67;break;case 67:return e.next=69,Object(B.a)(Wt());case 69:if(v=e.sent,b=I()(v,2),_=b[0],x=b[1],_)return rr(It(_)),e.abrupt("return",t());e.next=76;break;case 76:if(Zr(x))return rr(zt(Se(x))),e.abrupt("return",t());e.next=79;break;case 79:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",t());e.next=82;break;case 82:rr({headingText:"Disconnected",stepText:"Finished disconnecting"});case 83:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Gn(){var e=jQuery("#wps-connect");e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.connect"),jQuery("#wps-connect").off("submit.validate"),jQuery("#wps-connect").data("validator",null),e.off("submit.disconnect").on("submit.disconnect",$n)}function Jn(){Gn()}function Xn(){var t,n;jQuery("#wps-button-sync").off().on("click",function(e){return e.preventDefault(),Lr("Resyncing","Cancel resync"),new Promise((n=O()(E.a.mark(function e(v,t){var n,r,a,s,i,c,o,u,l,p,d,g,f,h,y,m;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(),Nr("Preparing for sync ..."),e.next=4,Object(B.a)(Wt());case 4:if(n=e.sent,r=I()(n,2),a=r[0],s=r[1],a)return rr(It(a)),e.abrupt("return",v());e.next=11;break;case 11:if(Zr(s))return rr(zt(s)),e.abrupt("return",v());e.next=14;break;case 14:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=17;break;case 17:return Dr(),Nr("Validating server connection ..."),e.next=21,Object(B.a)(Ue(Xe()));case 21:if(i=e.sent,c=I()(i,2),o=c[0],u=c[1],o)return rr(It(o)),e.abrupt("return",v());e.next=28;break;case 28:if(Zr(u))return rr(zt(u)),e.abrupt("return",v());e.next=31;break;case 31:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=34;break;case 34:return e.next=36,Object(B.a)(Ht());case 36:if(l=e.sent,p=I()(l,2),d=p[0],g=p[1],d)return rr(It(d)),e.abrupt("return",v());e.next=43;break;case 43:if(Zr(g))return rr(zt(g)),e.abrupt("return",v());e.next=46;break;case 46:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=49;break;case 49:return Dr(),Nr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=53,Object(B.a)(De($e()));case 53:if(f=e.sent,h=I()(f,2),y=h[0],m=h[1],y)return rr(It(y)),e.abrupt("return",v());e.next=60;break;case 60:if(Zr(m))return rr(zt(m)),e.abrupt("return",v());e.next=63;break;case 63:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=66;break;case 66:WP_Shopify.isSyncing=!0,Sr(function(){var t=O()(E.a.mark(function e(t){var n,r,a,s,i,c,o,u,l,p,d,g,f,h,y,m,w;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ea(t))return rr(It(t)),e.abrupt("return",v());e.next=3;break;case 3:if(Zr(t))return rr(zt(t)),e.abrupt("return",v());e.next=6;break;case 6:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=9;break;case 9:return Dr(),Nr("Determining the number of items to sync ..."),e.next=13,Object(B.a)(Qr());case 13:if(n=e.sent,r=I()(n,2),a=r[0],s=r[1],a)return rr(It(a)),e.abrupt("return",v());e.next=20;break;case 20:if(Zr(s))return rr(zt(s)),e.abrupt("return",v());e.next=23;break;case 23:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=26;break;case 26:return i=Te(We(Qe(fa(s)))),e.next=29,Object(B.a)(yt({counts:i,exclusions:["webhooks"]}));case 29:if(c=e.sent,o=I()(c,2),u=o[0],l=o[1],u)return rr(It(u)),e.abrupt("return",v());e.next=36;break;case 36:if(Zr(l))return rr(zt(l)),e.abrupt("return",v());e.next=39;break;case 39:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=42;break;case 42:return e.next=44,Object(B.a)(ct());case 44:if(p=e.sent,d=I()(p,2),g=d[0],f=d[1],g)return rr(It(g)),e.abrupt("return",v());e.next=51;break;case 51:if(Zr(f))return rr(zt(f)),e.abrupt("return",v());e.next=54;break;case 54:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=57;break;case 57:return e.next=59,Object(B.a)(ir(!0,Rn(),["webhooks"]));case 59:if(h=e.sent,y=I()(h,2),m=y[0],w=y[1],m)return rr(It(m)),e.abrupt("return",v());e.next=66;break;case 66:if(Zr(w))return rr(zt(w)),e.abrupt("return",v());e.next=69;break;case 69:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",v());e.next=72;break;case 72:Dr(),Fr("Cancel resyncing process"),Nr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),gr(Ee(i,["webhooks"])),bt(),yr(),Tr(i);case 79:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}());case 68:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}));var n}),jQuery(".wps-is-active #wps-button-clear-cache").unbind().on("click",(t=O()(E.a.mark(function e(t){var n,r,a,s,i,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),oa(n),qr(r),pa(n),le(),e.next=9,Object(B.a)(Wt());case 9:a=e.sent,s=I()(a,2),i=s[0],c=s[1],i&&Yr(ra(i)),Zr(c)&&(ta(c),na(c)),Yr("Successfully cleared the WP Shopify cache","updated");case 16:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})),jQuery("#wps-button-clear-all-data").unbind().on("click",(n=O()(E.a.mark(function e(t){var n,r,a,s,i,c,o,u,l,p,d,g,f,h,y,m;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Warning: This will delete all WordPress posts created from your Shopify data. Do you really want to remove?"))return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),oa(n),qr(r),pa(n),le(),WP_Shopify.isClearing=!0,e.next=11,Object(B.a)(Ue(Xe()));e.next=72;break;case 11:if(a=e.sent,s=I()(a,2),i=s[0],c=s[1],i)return e.abrupt("return",Yr(ra(i)));e.next=17;break;case 17:if(Zr(c))return e.abrupt("return",Yr(ta(c),na(c)));e.next=19;break;case 19:return e.prev=19,e.next=22,Ht();case 22:if(Zr(o=e.sent))return Yr(ta(o),na(o)),e.abrupt("return");e.next=26;break;case 26:e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(19),Yr(ra(e.t0)),e.abrupt("return");case 32:if(Pe()){e.next=61;break}return e.prev=33,e.next=36,Wt();case 36:if(Zr(u=e.sent))return Yr(ta(u),na(u)),e.abrupt("return");e.next=40;break;case 40:e.next=46;break;case 42:return e.prev=42,e.t1=e.catch(33),Yr(ra(e.t1)),e.abrupt("return");case 46:return e.next=48,Object(B.a)(Promise.all([De(Ye()),De(Je())]));case 48:if(l=e.sent,p=I()(l,2),d=p[0],g=p[1],d)return Yr(ra(d)),e.abrupt("return");e.next=55;break;case 55:if(Zr(g))return Yr(Se(g)),e.abrupt("return");e.next=58;break;case 58:Sr(O()(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Yr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled"),e.abrupt("return");case 3:case"end":return e.stop()}},e,this)}))),e.next=72;break;case 61:return e.next=63,Object(B.a)(De(Ye()));case 63:if(f=e.sent,h=I()(f,2),y=h[0],m=h[1],y)return e.abrupt("return",Yr(ra(y)));e.next=69;break;case 69:if(Zr(m))return e.abrupt("return",Yr(ta(m),na(m)));e.next=71;break;case 71:Sr(O()(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe())return e.prev=1,e.next=4,Wt();e.next=18;break;case 4:if(Zr(t=e.sent))return Yr(ta(t),na(t)),e.abrupt("return");e.next=8;break;case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),Yr(ra(e.t0)),e.abrupt("return");case 14:Yr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled"),e.next=33;break;case 18:return e.prev=18,e.next=21,Wt();case 21:if(Zr(t=e.sent))return Yr(ta(t),na(t)),e.abrupt("return");e.next=25;break;case 25:e.next=31;break;case 27:return e.prev=27,e.t1=e.catch(18),Yr(ra(e.t1)),e.abrupt("return");case 31:Yr("Successfully removed all data","updated"),Vr("notice_warning_app_uninstalled");case 33:case"end":return e.stop()}},e,this,[[1,10],[18,27]])})));case 72:case"end":return e.stop()}},e,this,[[19,28],[33,42]])})),function(e){return n.apply(this,arguments)}))}function Kn(e){var t=[];return f()(e.data.syncing_errors)||i()(e.data.syncing_errors.error,function(e){t.push({type:"error",message:e})}),f()(e.data.syncing_warnings)||i()(e.data.syncing_warnings.warning,function(e){t.push({type:"warning",message:e})}),t}function Zn(e,t){var n=!1;return i()(e,function(e){e.type===t&&(n=!0)}),n}function er(e){return Zn(e,"error")}function tr(e){return Zn(e,"warning")}function nr(e){Pe()?(Xn(),Jn(),jQuery("#submitConnect").val("Disconnect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitDisconnect").attr("id","submitDisconnect"),jQuery("#wps-connect .wps-form-group input").prop("disabled",!0).attr("disabled",!0),jQuery(".tab-content .wps-is-not-active").removeClass("wps-is-not-active").addClass("wps-is-active"),jQuery('.wps-is-active.wps-button-group input[type="submit"]').prop("disabled",!1),jQuery("#wps-sync-by-collections-checkbox-wrapper").addClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").removeClass("wps-is-hidden"),Fn()):(Rr(),function(){(0<arguments.length&&void 0!==arguments[0]&&arguments[0]).keepInputs||jQuery("#wps-connect .wps-form-group input").val("").removeClass("valid").prop("disabled",!1)}(e),ua(Kr()),oa(jQuery("#wps-button-sync, #wps-button-webhooks")),jQuery('#submitDisconnect, #wps-connect .wps-button-group input[type="submit"]').val("Connect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitConnect").attr("id","submitConnect"),Hr())}function rr(){return ar.apply(this,arguments)}function ar(){return(ar=O()(E.a.mark(function e(){var u,l,p,d,g,f,h,y=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=0<y.length&&void 0!==y[0]&&y[0],se())return e.next=4,Object(B.a)(Ue(Re()+"syncing/stop"));e.next=31;break;case 4:if(l=e.sent,p=I()(l,2),p[0],p[1],_r())return sr(),dr(),Xr(u),nr(u),vt(),e.abrupt("return");e.next=15;break;case 15:return e.next=17,Object(B.a)(Le(qe()));case 17:d=e.sent,g=I()(d,2),g[0],f=g[1],WP_Shopify.reconnectingWebhooks=!1,sr(),dr(),nr(u),vt(),h=u.noticeList?u.noticeList:Ie((o=Kn(f),pt()(o,"type","desc"))),le(),Wt(),Xr({headingText:(i=h,c=u,c&&c.headingText?c.headingText:er(i)?"Sync failed with errors":tr(i)?"Sync completed with warnings":"Sync completed successfully"),buttonText:(s=u,s&&s.buttonText?s.buttonText:"Close WP Shopify Sync"),status:(a=u,a&&a.status?a.status:Pe()?"is-connected":"is-disconnected"),stepText:(n=h,r=u,r&&r.stepText?r.stepText:er(n)?"Finished syncing with errors":tr(n)?"Finished syncing with warnings":"Finished syncing"),noticeList:h,xMark:(t=u,!(!t||!t.xMark)&&t.xMark)}),ie(!1);case 31:case"end":return e.stop()}var t,n,r,a,s,i,c,o},e,this)}))).apply(this,arguments)}function sr(){jQuery(".wps-connector").addClass("wps-is-finished")}function ir(){0<arguments.length&&void 0!==arguments[0]&&arguments[0],1<arguments.length&&void 0!==arguments[1]&&arguments[1],2<arguments.length&&void 0!==arguments[2]&&arguments[2];return Object(B.a)(Le(Fe()))}function cr(e,t){var n,r,a;jQuery(".wps-connector-content > .wps-progress-notice").first().after((r=e,"products"===(a=(n=t).split("_").join(" "))&&(a="Products <small>(includes images, tags, variants, etc)</small>",r*=6),"custom_collections"===a&&(r*=2),"smart_collections"===a&&(r*=2),"shop"===a&&(a="Shop <small>(includes store name, location, phone number, etc)</small>"),"collects"===a&&(a="Collects <small>(used to assign products to collections)</small>"),jQuery('<div class="wps-progress-bar-wrapper" data-wps-progress-total="'+r+'" id="wps-progress-bar-'+n+'"><span class="wps-progress-step-name">'+a+'</span><span class="wps-progress-step-percentage">0%</span><div class="wps-progress-bar"></div><span class="dashicons dashicons-yes"></span></div>')))}function or(e,t){jQuery("#wps-progress-bar-"+t).data("wps-progress-total",e).attr("data-wps-progress-total",e)}function ur(e){return 100<de()(e)}function lr(e,t){var n,r=jQuery("#wps-progress-bar-"+t),a=(r.find(".wps-progress-bar"),de()(r.data("wps-progress-total"))),s=de()(e)/a*100;return ur(s)&&Ue(Re()+"syncing/count",{stepName:t,matchTotal:!0}),ur(n=s)&&(n=100),n}function pr(e,t){var n,r=lr(e,t),a=jQuery("#wps-progress-bar-"+t);!ae()(r)&&gt()(r)&&(e==a.data("wps-progress-total")&&(a.hasClass("wps-is-complete")||(a.addClass("wps-is-complete"),Q(a.find(".dashicons-yes")))),a.find(".wps-progress-bar").css("width",r+"%"),a.find(".wps-progress-step-percentage").text((n=Math.round(r),gt()(n)?n+"%":"Checking ...")))}function dr(){jQuery(".wps-connector").removeClass("wps-is-syncing")}function gr(e){return jQuery(".wps-connector").toggleClass("wps-is-syncing"),p()(e)?i()(e,function(e){return C()(e,cr)}):C()(e.wps_syncing_totals,cr)}function fr(){var e=jQuery(".wps-progress-bar-wrapper");Q(jQuery(".wps-progress-bar-wrapper:not(.wps-is-complete) .dashicons-yes")),e.addClass("wps-is-complete"),e.find(".wps-progress-bar").css("width","100%"),e.find(".wps-progress-step-percentage").text("100%")}function hr(e){return e.data.has_fatal_errors}function yr(){return mr.apply(this,arguments)}function mr(){return(mr=O()(E.a.mark(function e(){var s,i,c,o,u,l,p,d;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)(ft());case 2:if(s=e.sent,i=I()(s,2),c=i[0],o=i[1],c)return fr(),e.abrupt("return",rr(It(c)));e.next=9;break;case 9:if(w()(o,"data")){e.next=12;break}return fr(),e.abrupt("return",rr({xMark:!0}));case 12:if(_r())return e.abrupt("return",rr());e.next=14;break;case 14:if(!o.data.is_syncing&&hr(o)||hr(o))return e.abrupt("return",rr({xMark:!0}));e.next=16;break;case 16:if(a=o.data.syncing_totals,C()(a,or),r=o.data.syncing_current_amounts,C()(r,pr),t=o.data.syncing_totals,n=o.data.syncing_current_amounts,N()(t,n)){e.next=22;break}setTimeout(yr,1e3),e.next=41;break;case 22:if(fr(),Dr(),ve())return Nr("Finishing sync ..."),e.abrupt("return",rr({noticeList:[{type:"success",stepText:"Finished syncing webhooks",message:"Success! You've finished reconnecting the Shopify webhooks."}]}));e.next=27;break;case 27:if(_r()||xr())return e.abrupt("return",rr());e.next=29;break;case 29:return Nr("Finalizing data ...","(Please wait, this may take up to 60 seconds depending on the number of products and collections)"),e.next=32,Object(B.a)(Et());case 32:if(u=e.sent,l=I()(u,2),p=l[0],d=l[1],p)return e.abrupt("return",rr(It(p)));e.next=38;break;case 38:if(Zr(d))return e.abrupt("return",rr(zt(Se(d))));e.next=40;break;case 40:wr(rr);case 41:case"end":return e.stop()}var t,n,r,a},e,this)}))).apply(this,arguments)}function wr(e){return vr.apply(this,arguments)}function vr(){return(vr=O()(E.a.mark(function e(t){var n,r,a,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(br()||kr()){e.next=2;break}return e.abrupt("return",rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}));case 2:return e.next=4,Object(B.a)(Le(Re()+"syncing/status/posts"));case 4:if(n=e.sent,r=I()(n,2),a=r[0],s=r[1],a)return e.abrupt("return",rr(It(a)));e.next=10;break;case 10:if(s.data)return e.abrupt("return",t());e.next=12;break;case 12:wr(t);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function br(){return WP_Shopify.isSyncing}function _r(){return WP_Shopify.manuallyCanceled}function xr(){return WP_Shopify.isDisconnecting}function kr(){return WP_Shopify.isConnecting}function Sr(e){return jr.apply(this,arguments)}function jr(){return(jr=O()(E.a.mark(function e(t){var n,r,a,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)(Le(Re()+"syncing/status/removal"));case 2:if(n=e.sent,r=I()(n,2),a=r[0],s=r[1],a)return e.abrupt("return",t(a));e.next=8;break;case 8:if(s.data)return e.abrupt("return",t(s));e.next=10;break;case 10:Sr(t);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Cr(l,p){return new Promise(function(){var n=O()(E.a.mark(function e(n,t){var r,a,s,i,c,o,u;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=l,r={currentPage:1,pages:Math.ceil(parseInt(t)/parseInt(WP_Shopify.itemsPerRequest))},a=r.currentPage,s=r.pages;case 1:if(a<=s)return e.next=4,Object(B.a)(p({page:a}));e.next=19;break;case 4:if(i=e.sent,c=I()(i,2),o=c[0],u=c[1],o)return rr(It(o)),n(),e.abrupt("break",19);e.next=12;break;case 12:if(Zr(u))return rr(zt(u)),n(),e.abrupt("break",19);e.next=16;break;case 16:a++,e.next=1;break;case 19:n();case 20:case"end":return e.stop()}var t},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Pr(r,a){return new Promise(function(){var n=O()(E.a.mark(function e(t,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Cr(r,a);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Tr(e){var t;1<arguments.length&&void 0!==arguments[1]&&arguments[1];t=e,e=Object.assign.apply(Object,[{}].concat(a()(t)));var n=[];return ye()&&(n=M()(n,Pr(e.smart_collections,Ke)),n=M()(n,Pr(e.custom_collections,Ze))),me()&&(n=M()(n,Pr(e.shop,rt))),fe()&&(n=M()(n,Pr(e.products,st))),he()&&(n=M()(n,Pr(e.collects,ot))),Promise.all(n)}function Qr(){var e=[];return ye()&&(e=M()(e,et()),e=M()(e,tt())),me()&&(e=M()(e,at())),fe()&&(e=M()(e,it())),he()&&(e=M()(e,ut())),Promise.all(e)}function Wr(){var e=jQuery("#wps-connect"),n=e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.disconnect"),e.on("submit.connect",function(e){e.preventDefault()}).validate({rules:{js_access_token:{alphaNumeric:!0},shared_secret:{alphaNumeric:!0},api_key:{alphaNumeric:!0},password:{alphaNumeric:!0},domain:{domainRule:!0}},success:function(e){var t;t=n,e.addClass("valid").text("Ok!"),jQuery("#wps-errors").addClass("wps-is-hidden"),ua(t)},errorPlacement:function(e){Yr(e.text(),"error")},submitHandler:function(e){var P,n;P=e,Lr("Connecting","Cancel connection"),new Promise((n=O()(E.a.mark(function e(x,t){var n,r,a,s,i,c,o,u,l,p,d,g,f,h,y,m,w,v,b,_,k,S,j,C;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Nr("Preparing Shopify connection ..."),e.next=3,Object(B.a)(Wt());case 3:if(n=e.sent,r=I()(n,2),a=r[0],s=r[1],a)return rr(It(a)),e.abrupt("return",x());e.next=10;break;case 10:if(Zr(s))return rr(zt(s)),e.abrupt("return",x());e.next=13;break;case 13:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=16;break;case 16:return Dr(),Nr("Saving Shopify connection ..."),e.next=20,Object(B.a)(Ue(Je(),{connection:Er(P)}));case 20:if(i=e.sent,c=I()(i,2),o=c[0],u=c[1],o)return rr(It(o)),e.abrupt("return",x());e.next=27;break;case 27:if(Zr(u))return rr(zt(Se(u))),e.abrupt("return",x());e.next=31;break;case 31:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=35;break;case 35:return Dr(),Nr("Validating Shopify connection ..."),e.next=39,Object(B.a)(Ue(Xe(),{type:"shopify",creds:Er(P)}));case 39:if(l=e.sent,p=I()(l,2),d=p[0],g=p[1],d)return rr(It(d)),e.abrupt("return",x());e.next=46;break;case 46:if(Zr(g))return e.next=49,Object(B.a)(Promise.all([De(Ve()),De($e()),De(Je())]));e.next=68;break;case 49:if(f=e.sent,h=I()(f,2),y=h[0],m=h[1],y)return rr(It(y)),e.abrupt("return",x());e.next=56;break;case 56:if(Zr(m))return rr(zt(Se(m))),e.abrupt("return",x());e.next=59;break;case 59:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=62;break;case 62:return Yr("Your Shopify API credentials appear to be incorrect. Please double check and try again","error"),Vr("notice_warning_app_uninstalled"),ze(!1),rr({keepInputs:!0}),e.abrupt("return",x());case 68:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=72;break;case 72:if(ze(WP_Shopify.isConnecting=!0),Ir(u))return e.next=77,Object(B.a)(rt());e.next=94;break;case 77:if(w=e.sent,v=I()(w,2),b=v[0],_=v[1],b)return rr(It(b)),e.abrupt("return",x());e.next=84;break;case 84:if(Zr(_))return rr(zt(Se(_))),e.abrupt("return",x());e.next=88;break;case 88:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=92;break;case 92:return rr({headingText:"Connection saved",stepText:"Finished saving Shopify connection only"}),e.abrupt("return",x());case 94:return Dr(),Nr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=98,Object(B.a)(De($e()));case 98:if(k=e.sent,S=I()(k,2),j=S[0],C=S[1],j)return rr(It(j)),e.abrupt("return",x());e.next=105;break;case 105:if(Zr(C))return rr(zt(Se(C))),e.abrupt("return",x());e.next=108;break;case 108:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=111;break;case 111:WP_Shopify.isSyncing=!0,Sr(O()(E.a.mark(function e(){var t,n,r,a,s,i,c,o,u,l,p,d,g,f,h,y,m,w,v,b,_;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.a)(Ht());case 2:if(t=e.sent,n=I()(t,2),r=n[0],a=n[1],r)return rr(It(r)),e.abrupt("return",x());e.next=9;break;case 9:if(Zr(a))return rr(zt(Se(a))),e.abrupt("return",x());e.next=12;break;case 12:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=15;break;case 15:return Dr(),Nr("Starting connection ..."),e.next=19,Object(B.a)(ir(!0,Rn()));case 19:if(s=e.sent,i=I()(s,2),c=i[0],o=i[1],c)return rr(It(c)),e.abrupt("return",x());e.next=26;break;case 26:if(Zr(o))return rr(zt(Se(o))),e.abrupt("return",x());e.next=29;break;case 29:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=32;break;case 32:return Dr(),Nr("Determining the number of items to sync ..."),e.next=36,Object(B.a)(Qr());case 36:if(u=e.sent,l=I()(u,2),p=l[0],d=l[1],p)return rr(It(p)),e.abrupt("return",x());e.next=43;break;case 43:if(Zr(d))return rr(zt(Se(d))),e.abrupt("return",x());e.next=46;break;case 46:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=49;break;case 49:return e.next=51,Object(B.a)(ct());case 51:if(g=e.sent,f=I()(g,2),h=f[0],y=f[1],h)return rr(It(h)),e.abrupt("return",x());e.next=58;break;case 58:if(Zr(y))return rr(zt(y)),e.abrupt("return",x());e.next=61;break;case 61:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=64;break;case 64:return m=Te(We(Qe(fa(d)))),e.next=67,Object(B.a)(yt({counts:m}));case 67:if(w=e.sent,v=I()(w,2),b=v[0],_=v[1],b)return rr(It(b)),e.abrupt("return",x());e.next=74;break;case 74:if(Zr(_))return rr(zt(Se(_))),e.abrupt("return",x());e.next=77;break;case 77:if(_r())return rr({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),e.abrupt("return",x());e.next=80;break;case 80:Dr(),Ur("Syncing"),Fr("Cancel syncing process"),Nr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),gr(m),bt(),yr(),Tr(m,!0);case 88:case"end":return e.stop()}},e,this)})));case 113:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}))}})}function Er(e){return t=jQuery(e).serializeArray(),(t=JSON.parse(JSON.stringify(t))).reduce(function(e,t){return e[t.name]=t.value,e},{});var t}function zr(){var e,t,n=jQuery("#wps-connect").find('input[type="submit"]');le(),jQuery("body").find(".wps-connector-wrapper").remove(),(sa(e=jQuery("#wps_settings_general_domain").val())||function(e){if(!e.indexOf("myshopify.com"))return!1;var t=e.split("myshopify.com");return 1<t.length||void 0}(e))&&jQuery("#wps_settings_general_domain").val((-1<(t=e).indexOf("http://")&&(t=t.replace("http://","")),-1<t.indexOf("https://")&&(t=t.replace("https://","")),-1<t.indexOf("myshopify.com/")&&(t=(t=t.split("myshopify.com/"))[0]+"myshopify.com"),t)),oa(n),i()(n,la),oe(!1),ie(!0)}function Ir(e){return!!WP_Shopify.settings.connection.saveConnectionOnly}function Hr(){Wr()}var Or=n(147),Br=n.n(Or);function Ar(){return jQuery('<span class="dashicons dashicons-no"></span>')}function Mr(){return jQuery('<span class="dashicons dashicons-yes"></span>')}function Lr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";zr();var n,r,a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Connecting ...",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Cancel connection";return null===ce()?jQuery('<div class="wps-connector-wrapper"><div class="wps-connector wps-connector-progress wps-animated wps-fadeInDown"><span class="wps-modal-close dashicons dashicons-no-alt"></span><h1 class="wps-connector-heading"><span>'+e+'</span> <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/shopify.svg" /> to <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/logo-wp.svg" /></h1><div class="l-row"><button type="button" name="button" class="button button-primary wps-btn wps-btn-cancel">'+t+'</button></div><div class="wps-connector-content"></div></ div><footer class="wps-modal-footer"><span>Sync duration: </span><span id="wps-sync-duration"></span></footer></div>'):ce()}(e,t);n=a,jQuery("body").append(n),jQuery(".wps-btn-cancel, .wps-modal-close").unbind().on("click",(r=O()(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Qt(),$r(),WP_Shopify.manuallyCanceled=!0;case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})),function(e){if(!e.length)return;"string"==typeof e?jQuery(e).find(".wps-connector-progress").show():e.find(".wps-connector-progress").show()}(a)}function Ur(e){jQuery(".wps-connector-heading span").text(e)}function Dr(){jQuery(".wps-connector-content .wps-progress-notice:first-child").append(Mr()),jQuery(".wps-connector-content .wps-progress-notice:first-child .spinner").removeClass("is-active"),jQuery(".wps-connector-content .wps-progress-notice:first-child").addClass("is-inactive"),Q(jQuery(".wps-connector-content .wps-progress-notice:first-child").find(".dashicons"))}function Nr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";se()&&function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";ue()||(t="error"===n?jQuery('<div class="wps-progress-notice wps-progress-notice-error"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+"</small></span></div></div>"):jQuery('<div class="wps-progress-notice wps-progress-notice-success"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+'</small></span><div class="spinner is-active"></div></div></div>'),jQuery(".wps-connector-wrapper").find(".wps-connector-content").prepend(t))}(e,"",t)}function Rr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery("#wps-sync-by-collections-checkbox-wrapper .notice").replaceWith('<p class="notice notice-error inline">'+Br.a.decode(e)+"</p>"),jQuery("#wps-sync-by-collections-checkbox-wrapper").removeClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").addClass("wps-is-hidden")}function qr(e){e.toggleClass("wps-is-active")}function Fr(e){jQuery(".wps-btn-cancel").text(e)}function Vr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery('.notice[data-dismiss-name="'+e+'"]').fadeOut()}function Yr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",n="";e&&y()(e)&&(n=Br.a.decode(e));var r=jQuery("#wps-errors"),a=jQuery('<div class="wps-notice notice is-dismissible '+t+'"><p>'+n+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');r.empty().removeClass("wps-is-hidden").append(a),jQuery(".wps-notice.is-dismissible .notice-dismiss").on("click",function(e){jQuery(e.currentTarget).parent().fadeOut()});var s=r.find(".notice");"updated"===t&&setTimeout(function(){s.slideUp("fast",function(){r.addClass("wps-is-hidden")})},5e3),ua(jQuery(".wps-button-group .spinner.wps-is-active").prev()),jQuery(".wps-button-group .spinner.wps-is-active").removeClass("wps-is-active")}function $r(){ua(jQuery('#wps-connect input[type="submit"]'))}function Gr(){jQuery(".wps-btn-cancel, .wps-modal-close").unbind().on("click",function(){jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),le()}),jQuery(document).on("click",function(e){jQuery(e.target).closest(".wps-connector").length||(jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),le())}),ua(jQuery(".wps-btn-cancel").blur()),$r()}function Jr(e){T()(e)||(e={type:"warning",message:e});var t=jQuery('<div class="notice notice-'+e.type+'">'+Br.a.decode(e.message)+"</div>");jQuery(".wps-connector-heading").after(t)}function Xr(){var e,n,t,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=(e=a,q()({headingText:"Canceled",stepText:"Stopped syncing",status:"is-disconnected",buttonText:"Close WP Shopify Sync",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}],errorCode:"",clearInputs:!0,noticeType:"warning"},e));Gr(),n=s,jQuery(".wps-progress-notice").not(".is-inactive").each(function(){var e=jQuery(this),t=e.find(".spinner");t.length&&(t.remove(),!0===n.xMark?e.append(Ar()):(e.append(Mr()),Q(e.find(".dashicons-yes"))))}),Ur(s.headingText),Fr(s.buttonText),t=s.stepText,jQuery(".wps-connector-content .wps-progress-notice:first-child .wps-progress-text").text(t),"is-connected"===(Pe()?"is-connected":"is-disconnected")?jQuery(".wps-status-heading .wps-status").removeClass("is-disconnected").addClass("is-connected").text("Connected"):jQuery(".wps-status-heading .wps-status").removeClass("is-connected").addClass("is-disconnected").text("Disconnected"),r=s,p()(r.noticeList)&&!f()(r.noticeList)&&i()(r.noticeList,Jr)}function Kr(){return jQuery(".wps-connector .wps-btn-cancel")}function Zr(e){var t=!1;return d()(e)&&w()(e,"success")&&(e.success||(t=!0)),d()(e)&&w()(e,"data")&&w()(e.data,"type")&&"error"===e.data.type&&(t=!0),p()(e)&&!f()(e)&&i()(e,function(e){d()(e)&&w()(e,"success")&&(e.success||(t=!0))}),t}function ea(e){return!!(d()(e)&&w()(e,"statusCode")&&w()(e,"message"))}function ta(e){return y()(e)?e:d()(e)&&w()(e,"data")&&w()(e.data,"message")?e.data.message:d()(e)&&w()(e,"message")?e.message:d()(e)&&w()(e,"data")?p()(e.data)?y()(e.data[0])?e.data[0]:w()(e.data[0],"message")?e.data[0].message:"An unknown error occured. Please clear the plugin cache and try again.":Object.values(e.data)[0].errors.error[0]:p()(e)?b()(e,function(e){return!e.success})[0].data.message:"It looks like something unexpected happened. Please clear the plugin cache and try again."}function na(e){return d()(e)&&w()(e,"data")&&w()(e.data,"type")?e.data.type:"error"}function ra(e){if(o()(e))return"WP Shopify javascript error: "+e.message;if(d()(e)&&w()(e,"statusCode")&&w()(e,"message")){var t=w()(e,"action_name")?e.action_name:"unknown location";return e.message.toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()})+" while calling "+t+". Please clear the plugin transient cache and try again. Error status code: "+e.statusCode}return!1}function aa(e){return-1!==e.indexOf(".myshopify.com")}function sa(e){return-1<e.indexOf("http://")||-1<e.indexOf("https://")}function ia(e){return!!x()(e,{protocols:["http","https"],require_tld:!0,require_protocol:!0,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1})}function ca(e){return e.match("^[a-zA-Z0-9]*$")}function oa(e){e.prop("disabled",!0).attr("disabled",!0)}function ua(e){e.prop("disabled",!1).attr("disabled",!1)}function la(e){jQuery(e).parent().next().addClass("wps-is-active"),oa(jQuery(e))}function pa(e){e.next().addClass("wps-is-active"),oa(e)}function da(e){e.next().removeClass("wps-is-active"),e.prop("disabled",!1),ua(e)}function ga(e){return e.data}function fa(e){return e.map(ga)}function ha(e){return 1==e}function ya(){"submitDisconnect"===jQuery("#wps-connect").find('input[type="submit"]').attr("name")?Jn():Hr()}function ma(){jQuery.validator.addMethod("containsProtocol",sa,"Please remove http:// or https:// from domain"),jQuery.validator.addMethod("domainRule",aa,'Domain must contain ".myshopify.com"'),jQuery.validator.addMethod("alphaNumeric",ca,"Must contain only numbers and letters"),jQuery.validator.addMethod("urlRule",ia,"Must be a valid URL"),jQuery.fn.extend({animateCss:function(e,t){this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+e),t()})}})}function wa(){jQuery(".wps-admin-wrap .nav-tab").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("tab"),r=jQuery(".wps-admin-wrap .nav-tab.nav-tab-active"),a=jQuery('.wps-admin-wrap .nav-tab[data-tab="'+n+'"]'),s=jQuery('.wps-admin-wrap .tab-content[data-tab-content="'+n+'"]'),i=jQuery(".wps-admin-wrap .tab-content.tab-content-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",ba(window.location.href,"activetab",t)),i.removeClass("tab-content-active"),r.removeClass("nav-tab-active"),a.addClass("nav-tab-active"),s.addClass("tab-content-active"),c.addClass("wps-is-hidden")})}function va(){jQuery(".wps-submenu .wps-sub-section-link").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("sub-section"),r=jQuery(".wps-submenu .wps-sub-section-link.current"),a=jQuery('.wps-sub-section-link[data-sub-section="'+n+'"]'),s=jQuery("#"+n),i=jQuery(".wps-admin-sub-section.is-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",ba(window.location.href,"activesubnav",t)),i.removeClass("tab-content-active"),r.removeClass("current"),a.addClass("current"),s.addClass("is-active"),c.addClass("wps-is-hidden")})}function ba(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function _a(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Le(Ge())}function xa(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ue(Ge(),e)}function ka(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return De(Ge(),e)}function Sa(p){return new Promise(function(){var n=O()(E.a.mark(function e(t,n){var r,a,s,i,c,o,u,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a={},e.prev=2,e.next=5,Ae(p);case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",n("Error: unable to get license key. Please try again."));case 11:return e.prev=11,e.next=14,Wa(r);case 14:s=e.sent,e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(11),e.abrupt("return",n(e.t1));case 20:if(s)return e.prev=21,e.next=24,Me(p);e.next=48;break;case 24:if(a=e.sent,d()(a)){e.next=27;break}return e.abrupt("return",n("Error: invalid license key format. Please try again."));case 27:e.next=32;break;case 29:return e.prev=29,e.t2=e.catch(21),e.abrupt("return",n("Error: unable to activate license key. Please try again."));case 32:return i=Qa(a,p),e.next=35,Object(B.a)(xa({license:i}));case 35:if(c=e.sent,o=I()(c,2),u=o[0],l=o[1],u)return Yr(ra(u)),e.abrupt("return",n(u));e.next=42;break;case 42:if(Zr(l))return Yr(ta(l),na(l)),e.abrupt("return",n(u));e.next=45;break;case 45:return e.abrupt("return",t(i));case 48:return e.abrupt("return",n(s));case 49:case"end":return e.stop()}},e,this,[[2,8],[11,17],[21,29]])}));return function(e,t){return n.apply(this,arguments)}}())}function ja(e){e.removeClass("valid").addClass("error")}function Ca(e){var t=jQuery("#wps-license"),n=t.find('input[type="submit"]'),r=t.find("#wps_settings_general_license"),a=jQuery(".wps-postbox-license-info");n.data("status","deactivate"),n.attr("data-status","deactivate"),n.val("Deactivate License"),r.val(function(e,t,n){if(e){var r=e.length,a=e.substr(r-n),s=e.slice(0,-n);return s.length,new Array(s.length+1).join(t)+a}}(e.license_key,"",4)),r.removeClass("error"),function(e){var t,n,r=jQuery(".wps-col-license-limit"),a=jQuery(".wps-col-license-name"),s=jQuery(".wps-col-license-email"),i=jQuery(".wps-col-license-expire"),c=jQuery(".wps-col-license-status");t=0===e.license_limit?"unlimited":e.license_limit;n=e.site_count,e.success&&(c.text("Active"),c.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));r.text(n+" / "+t),a.text(e.customer_name),s.text(e.customer_email),"false"!==e.lifetime&&e.lifetime?i.text("Never expires"):i.text(function(e){var t=Date.parse(e);if(0==isNaN(t)){var n=new Date(t);return S()(n,"mmmm d, yyyy")}}(e.expires));e.is_local&&r.append('<small class="wps-table-supporting">(Activations on dev environments don\'t add to total)</small>')}(e),a.removeClass("wps-is-hidden").animateCss("wps-fadeInRight",function(){a.removeClass("wps-fadeInRight")}),oa(jQuery("#wps_settings_general_license"))}function Pa(){var e=jQuery("#wps-license"),t=e.find('input[type="submit"]'),n=e.find("#wps_settings_general_license"),r=jQuery(".wps-postbox-license-info");t.data("status","activate"),t.attr("data-status","activate"),t.val("Activate License"),n.val(""),n.attr("disabled",!1),n.prop("disabled",!1),n.removeClass("error valid"),r.animateCss("wps-fadeOutRight",function(){r.addClass("wps-is-hidden")})}function Ta(){var t;jQuery("#wps-license").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_license[wps_key]":{alphaNumeric:!0}},errorPlacement:function(e){Yr(e.text(),"error")},submitHandler:(t=O()(E.a.mark(function e(t){var n,r,a,s,i,c,o,u,l,p;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jQuery(t).find('input[type="submit"]'),r=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_nonce_license_id").val(),a=jQuery(t).find("#wps_settings_general_license"),s=jQuery(t).find("#wps_settings_general_license").val(),jQuery(".wps-postbox-license-info"),oa(n),qr(r),pa(n),"activate"===n.data("status"))return e.prev=5,e.next=8,Sa(s);e.next=35;break;case 8:i=e.sent,e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(5),da(n),Yr(e.t0,"error"),ja(a),e.abrupt("return",e.t0);case 17:return e.prev=17,e.next=20,Be(s);case 20:c=e.sent,e.next=29;break;case 23:return e.prev=23,e.t1=e.catch(17),da(n),Yr(e.t1,"error"),ja(a),e.abrupt("return",e.t1);case 29:Ea({productInfo:c}),Ca(i),za(i),Yr("Successfully activated license key. Enjoy :)","updated"),e.next=45;break;case 35:return e.next=37,Object(B.a)(ka());case 37:o=e.sent,u=I()(o,2),l=u[0],p=u[1],l&&Yr(ra(l)),Zr(p)&&Yr(ta(p),na(p)),Pa(),Yr("Successfully deactivated license key","updated");case 45:ua(n),qr(r),da(n);case 48:case"end":return e.stop()}},e,this,[[5,11],[17,23]])})),function(e){return t.apply(this,arguments)})})}function Qa(e,t){var n=e;return"lifetime"===n.expires?(n.expires=new Date("January 1, 1970"),n.lifetime=!0):n.lifetime=!1,n.license_key=t,n}function Wa(r){return new Promise(function(){var n=O()(E.a.mark(function e(t,n){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("invalid"===r.license)return e.abrupt("return",n("This license key is invalid or disabled. Please double check / re-enter your key."));e.next=2;break;case 2:if("expired"===r.license)return e.abrupt("return",n('This license key is expired. Please login and renew your key at <a href="https://wpshop.io/account" target="_blank">wpshop.io/account</a>'));e.next=4;break;case 4:if("revoked"===r.license)return e.abrupt("return",n('This license key has been disabled. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=6;break;case 6:if("missing"===r.license)return e.abrupt("return",n('This license key cannot be found. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=8;break;case 8:if("item_name_mismatch"===r.license)return e.abrupt("return",n('Sorry, this key appears to be valid for a different product. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=10;break;case 10:if(r.license,r.activations_left<0)return e.abrupt("return",n("This license key has reached it's activation limit. Please upgrade."));e.next=15;break;case 15:return e.abrupt("return",t(!0));case 16:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Ea(e){var t=jQuery("#wps-plugin-info"),n=t.find(".wps-col-plugin-version"),r=(t.find(".wps-col-plugin-update-avail"),t.find(".wps-col-tested-up-to"));e&&e.productInfo.banners&&(n.text(e.productInfo.new_version),r.text(e.productInfo.tested_up_to))}function za(e){if(e.success){var t=jQuery("#wps-license-info"),n=t.find(".wps-col-license-status"),r=t.find(".wps-col-license-name"),a=t.find(".wps-col-license-email"),s=t.find(".wps-col-license-expire"),i=t.find(".wps-col-license-limit"),c=t.find(".wps-col-license-activations-left");"valid"===e.license&&(e.license="Active",n.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));var o=new Date(e.expires).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});n.text(e.license),r.text(e.customer_name),a.text(e.customer_email),s.text(o),i.text(e.site_count+" / "+e.license_limit),c.text(e.activations_left)}}function Ia(){return(Ia=O()(E.a.mark(function e(){var n,r,a,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ta(),e.next=3,Object(B.a)(new Promise(function(){var n=O()(E.a.mark(function e(t,n){var r,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(){var n=O()(E.a.mark(function e(t,n){var r,a,s,i,c,o,u,l,p,d,g,f,h;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery("#wps-license"),a=jQuery("#wps-license > .spinner"),r.find('input[type="submit"]'),r.find(".spinner"),r.find("#wps_settings_general_license"),jQuery(".wps-postbox-license-info"),jQuery(".wps-postbox-license-activation"),jQuery("#wps-plugin-info"),s=jQuery("#wps-plugin-info > .spinner"),i=jQuery("#wps-license-info > .spinner"),qr(s),qr(a),qr(i),e.next=6,Object(B.a)(_a());case 6:if(c=e.sent,o=I()(c,2),u=o[0],(l=o[1]).data){e.next=12;break}return e.abrupt("return",t());case 12:if(u)return Yr(ra(u)),e.abrupt("return",n(u));e.next=15;break;case 15:if(Zr(l))return Yr(ta(l),na(l)),e.abrupt("return",n(l));e.next=18;break;case 18:return e.prev=18,e.next=21,Ae(l);case 21:e.sent,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(18),e.abrupt("return",n(e.t0));case 27:return za(l.data),e.next=30,Object(B.a)(Wa(l.data));case 30:if(p=e.sent,d=I()(p,2),g=d[0],d[1])return e.abrupt("return",t(l.data));e.next=36;break;case 36:return e.next=38,Object(B.a)(ka());case 38:return f=e.sent,(h=I()(f,2))[0],h[1],e.abrupt("return",n(g));case 43:case"end":return e.stop()}},e,this,[[18,24]])}));return function(e,t){return n.apply(this,arguments)}}());case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 9:return e.prev=9,e.next=12,Be(r);case 12:a=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e.catch(9),e.abrupt("return",n(e.t1));case 18:t({licenseKey:r,productInfo:a});case 19:case"end":return e.stop()}},e,this,[[0,6],[9,15]])}));return function(e,t){return n.apply(this,arguments)}}()));case 3:n=e.sent,r=I()(n,2),a=r[0],s=r[1],a&&(Yr(ra(a)),Pa()),Zr(s)&&(Yr(ta(s),na(s)),Pa()),Ea(s),t=void 0,(t=jQuery("#wps-license, #wps-plugin-info, #wps-license-info")).addClass("wps-is-ready"),t.find(".wps-is-hidden").removeClass("wps-is-hidden");case 11:case"end":return e.stop()}var t},e,this)}))).apply(this,arguments)}function Ha(){jQuery(".wps-help-tip").tooltipster({animation:"fade",delay:0,animationDuration:[100,100],interactive:!0,IEmin:8,timer:0})}function Oa(){var t;jQuery("#wps-button-migrate").off().on("click",(t=O()(E.a.mark(function e(n){var r,a,s,i,c,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=jQuery(this),(a=r.parent()).find(".spinner"),ua(t=r),da(t),window.confirm("Warning: This will modify your database tables to be compatible with the new (1.2.2) version of WP Shopify. Please don't leave this screen until the migration finishes. Finally, please ensure that you've made a backup as potential data loss could occur!"))return a.addClass("is-working"),pa(r),e.next=10,Object(B.a)(new Promise(function(t,r){var a="run_table_migration_"+WP_Shopify.latestVersionCombined;jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(_e(e,n,a))}})}));e.next=29;break;case 10:if(s=e.sent,i=I()(s,2),c=i[0],o=i[1],c)return da(r),a.removeClass("is-working"),e.abrupt("return",Yr(ra(c)));e.next=18;break;case 18:if(Zr(o))return Yr(ta(o),na(o)),da(r),a.removeClass("is-working"),e.abrupt("return");e.next=23;break;case 23:da(r),a.removeClass("is-working"),oa(r),Yr("Successfully migrated database tables to the latest version of WP Shopify! You're ready to go!","updated"),e.next=31;break;case 29:da(r),a.removeClass("is-working");case 31:case"end":return e.stop()}var t},e,this)})),function(e){return t.apply(this,arguments)}))}function Ba(){jQuery(".wps-submit-menu-cart-icon").on("click",function(){var e=setInterval(function(){jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').length&&(jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').closest(".field-description").hide(),clearInterval(e))},500)}),jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').hide()}jQuery(function(){Ha(),wa(),va(),ma(),ya(),function(){Ia.apply(this,arguments)}(),Yn(),Xn(),Ba(),Oa(),nn()})}});