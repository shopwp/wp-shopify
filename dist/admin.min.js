!function(o){function e(e){for(var t,n,r=e[0],a=e[1],s=e[2],i=0,c=[];i<r.length;i++)n=r[i],p[n]&&c.push(p[n][0]),p[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(o[t]=a[t]);for(d&&d(e);c.length;)c.shift()();return l.push.apply(l,s||[]),u()}function u(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==p[s]&&(r=!1)}r&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var n={},p={1:0},l=[];function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=o,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var t=window.wpshopify=window.wpshopify||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var d=r;l.push([865,0,3]),u()}({865:function(e,t,n){"use strict";n.r(t);n(542),n(694);var r=n(399),s=n.n(r),a=n(39),i=n.n(a),c=n(56),o=n.n(c),u=n(32),p=n.n(u),l=n(31),d=n.n(l),f=n(41),g=n.n(f),h=n(85),y=n.n(h),m=n(28),w=n.n(m),v=n(45),b=n.n(v),x=n(400),k=n.n(x),j=n(401),S=n.n(j),P=n(67),Q=n.n(P),T=n(139),C=n.n(T);function W(e){return anime({targets:e.toArray(),translateX:["-200%","0%"],opacity:1,duration:260,delay:0,elasticity:40,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1.6,duration:200,elasticity:0,easing:"easeInOutCubic",complete:function(){anime({targets:e.toArray(),scale:1,duration:800,elasticity:0,easing:"easeOutExpo"})}})}})}var E=n(3),We=n.n(E),O=n(15),Ee=n.n(O),z=n(11),I=n.n(z),Oe=n(13),H=n(104),B=n.n(H),A=(n(402),n(403),n(181)),M=n.n(A),L=(n(70),n(255)),U=n.n(L),D=(n(249),n(256)),N=n.n(D),R=n(252),F=n.n(R),q=n(404),G=n.n(q),V=n(180),Y=n.n(V),$=n(405),J=n.n($),K=n(141),X=n.n(K);function Z(){return"true"===localStorage.getItem("wps-connection-in-progress")}function ee(e){localStorage.setItem("wps-connection-in-progress",e)}function te(){return localStorage.getItem("wps-modal-connector-cache")}function ne(e){localStorage.setItem("wps-is-canceling",e)}function re(){return"true"===localStorage.getItem("wps-is-canceling")&&(jQuery(".wps-connector").addClass("wps-is-stopping"),!0)}function ae(){localStorage.clear(),WP_Shopify.manuallyCanceled=!1,WP_Shopify.reconnectingWebhooks=!1,WP_Shopify.isSyncing=!1,WP_Shopify.isClearing=!1,WP_Shopify.isConnecting=!1,WP_Shopify.isDisconnecting=!1}function se(e,t,n){return{statusCode:e.status,message:t,action_name:n}}function ie(e){return{statusCode:e.status,message:e.data.message,action_name:e.data.code}}function ce(e){if(e)return!e.success}function oe(e){return b()(e,ce)}function ue(e){return t=oe(e),d()(t)?t[0]:t;var t}function pe(e){if(e)return!N()([e],"type")}function le(e){if(WP_Shopify.selective_sync.all)return e;if((WP_Shopify.isConnecting||WP_Shopify.reconnectingWebhooks)&&e.hasOwnProperty("webhooks"))return e;var t,n=(t=WP_Shopify.selective_sync,F()(t,function(e,t){return 1==e})),r=Object.getOwnPropertyNames(e)[0];return n.hasOwnProperty(r)?e:w()(n,"products")&&w()(e,"collects")?e:void 0}function de(){return void 0!==WP_Shopify.hasConnection&&(!0===WP_Shopify.hasConnection||(1===WP_Shopify.hasConnection||"1"===WP_Shopify.hasConnection))}function fe(e){return b()(e,function(e){return!g()(G()(e,function(e,t){return 0===(n=e)||"0"===n;var n}))})}function ge(e){return b()(e,pe)}function he(e){return b()(e,le)}function ye(e,r){return b()(e,function(t){var n=!1;return i()(r,function(e){w()(t,e)&&(n=!0)}),!n})}function me(e){WP_Shopify.hasConnection=e}function _e(e){return t=e,n=!1,i()(t,function(e){"error"===e.type&&(n=!0)}),n?Y()(U()(e),"message"):U()(e,de()?[{type:"success",message:"Success! You've finished syncing your Shopify store with WordPress."}]:[{type:"success",message:"Success! You've finished disconnecting your Shopify store from WordPress."}]);var t,n}function we(e){var t=J()(e);return X()(t)||t<=0?"auto":t}function ve(){return new Promise(function(t,r){var a="get_published_product_ids_by_page";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function be(e){return new Promise(function(t,r){var a="cache_admin_notice_dismissal";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,dismiss_name:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function xe(e){return new Promise(function(t,r){var a="insert_shop";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,shopData:e,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function ke(){return new Promise(function(t,r){var a="remove_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function je(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=get_version&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,"edd_action=get_version"))}})})}function Se(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=check_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,"edd_action=check_license"))}})})}function Pe(e){return new Promise(function(t,r){jQuery.ajax({type:"GET",url:"https://wpshop.io/edd-sl?edd_action=activate_license&item_name=WP+Shopify&license="+e+"&url="+WP_Shopify.siteUrl,success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,"edd_action=activate_license"))}})})}function Qe(e){return new Promise(function(t,r){var a="license_save";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,data:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Te(){return new Promise(function(t,r){var a="license_delete";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Ce(){return new Promise(function(t,r){var a="delete_only_synced_data";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function ze(){return new Promise(function(t,r){var a="delete_posts_and_synced_data";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Ie(e){return new Promise(function(t,r){var a="update_settings_general";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,data:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function He(e){return new Promise(function(t,r){var a="set_syncing_indicator";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,syncing:e,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Be(){return new Promise(function(t,r){var a="clear_cache";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Ae(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(t,r){var a="progress_session_create";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,resync:e,includes:n,excludes:s},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Me(e){return new Promise(function(t,r){var a="get_bulk_collects";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Le(e){return new Promise(function(t,r){var a="get_bulk_products";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Ue(e){return new Promise(function(t,r){var a="get_bulk_smart_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function De(e){return new Promise(function(t,r){var a="get_bulk_custom_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce,currentPage:e},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Ne(){return new Promise(function(t,r){var a="kill_syncing";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Re(){return new Promise(function(t,r){var a="check_valid_server_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}function Fe(){return new Promise(function(t,r){var a="reset_notice_flags";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}n(406),n(407);var qe=n(408),Ge=n.n(qe);function Ve(){return Ye.apply(this,arguments)}function Ye(){return(Ye=I()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",He(0));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function $e(){re()||(jQuery(".wps-connector").addClass("wps-is-stopping"),Lr(Cr()),mr("Stopping"),_r(),wr("Canceling, please wait ...","(This may take up to 30 seconds)"),ne(!0))}function Je(){return Promise.all([new Promise(function(t,r){var a="get_all_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}),new Promise(function(t,r){var a="get_selected_collections";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})])}function Ke(){return Promise.all([Fe(),Be()])}function Xe(){return Promise.all([new Promise((r=I()(We.a.mark(function e(t,n){var r,a,s,i;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.reconnectingWebhooks||!WP_Shopify.selective_sync.all&&!WP_Shopify.selective_sync.products){e.next=10;break}return e.next=3,Object(Oe.a)(new Promise(function(t,r){var a="set_product_posts_relationships";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));case 3:r=e.sent,a=Ee()(r,2),s=a[0],i=a[1],s?n(s):t(i),e.next=11;break;case 10:t();case 11:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})),new Promise((n=I()(We.a.mark(function e(t,n){var r,a,s,i;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!WP_Shopify.reconnectingWebhooks&&(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.custom_collections||WP_Shopify.selective_sync.smart_collections))return e.next=3,Object(Oe.a)(new Promise(function(t,r){var a="set_collection_posts_relationships";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));e.next=10;break;case 3:r=e.sent,a=Ee()(r,2),s=a[0],i=a[1],s?n(s):t(i),e.next=11;break;case 10:t();case 11:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}))]);var n,r}function Ze(e){return{xMark:!0,stepText:"Syncing failed",headingText:"Syncing failed",noticeList:[{type:zr(e),message:Or(e)}]}}function et(e){return{xMark:!0,stepText:"Syncing failed from client-side",headingText:"Syncing failed",noticeList:[{type:"error",message:Ir(e)}]}}var tt=n(5),nt=n.n(tt),rt=n(48),at=n.n(rt),st=n(21),it=n.n(st),ct=n(22),ot=n.n(ct),ut=n(23),pt=n.n(ut),lt=n(24),dt=n.n(lt),ft=n(25),gt=n.n(ft),ht=n(4),yt=n.n(ht),mt=n(2),_t=n.n(mt),wt=n(16),vt=n.n(wt),bt=n(409);function xt(){var n;jQuery(".wps-notice .notice-dismiss").on("click",(n=I()(We.a.mark(function e(t,n){var r,a,s,i;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jQuery(this).parent(".notice.is-dismissible"),a=r.attr("data-dismiss-name"))return e.prev=3,e.next=6,Object(Oe.a)(be(a));e.next=15;break;case 6:s=e.sent,(i=Ee()(s,2))[0],i[1],e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("WP Shopify Admin Notice Error: ",e.t0);case 15:case"end":return e.stop()}},e,this,[[3,12]])})),function(e,t){return n.apply(this,arguments)}))}var kt=n(29),jt=n.n(kt);function St(e){return{backgroundColor:e,width:"40px",height:"20px"}}var Pt=n(35),Qt=n.n(Pt);function Tt(){return WP_Shopify.API.restUrl+WP_Shopify.API.namespace+"/"}function Ct(){return Tt()+"settings/products_add_to_cart_color"}function Wt(e){return new Promise(function(t,n){Qt.a.post(Tt()+"settings/products_variant_color",e).then(function(e){return t(e)}).catch(function(e){return n(ie(e.response))})})}function Et(e){return new Promise(function(t,n){Qt.a.post(Tt()+"settings/cart_checkout_color",e).then(function(e){return t(e)}).catch(function(e){return n(ie(e.response))})})}function Ot(e){return new Promise(function(t,n){Qt.a.post(Tt()+"settings/cart_counter_color",e).then(function(e){return t(e)}).catch(function(e){return n(ie(e.response))})})}function zt(e){return new Promise(function(t,n){Qt.a.post(Tt()+"settings/cart_icon_color",e).then(function(e){return t(e)}).catch(function(e){return n(ie(e.response))})})}var It=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"updateColor",function(e){return Wt(e)}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Lt,{color:WP_Shopify.settings.colorVariant,updateColor:this.updateColor,pickerType:"variant"})}}]),s}(_t.a.Component),Ht=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"updateColor",function(e){return r=e,new Promise(function(t,n){Qt.a.post(Ct(),r).then(function(e){return t(e)}).catch(function(e){return n(ie(e.response))})});var r}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Lt,{color:WP_Shopify.settings.colorAddToCart,updateColor:this.updateColor,pickerType:"add-to-cart"})}}]),s}(_t.a.Component),Bt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"updateColor",function(e){return Et(e)}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Lt,{color:WP_Shopify.settings.colorCheckout,updateColor:this.updateColor,pickerType:"checkout"})}}]),s}(_t.a.Component),At=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"updateColor",function(e){return Ot(e)}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Lt,{color:WP_Shopify.settings.colorCartCounter,updateColor:this.updateColor,pickerType:"cart-counter"})}}]),s}(_t.a.Component),Mt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"updateColor",function(e){return zt(e)}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Lt,{color:WP_Shopify.settings.colorCartIcon,updateColor:this.updateColor,pickerType:"cart-icon"})}}]),s}(_t.a.Component),Lt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{ready:!1,displayColorPicker:!1,color:t.props.color,pickerStyles:jt()({default:{wrapper:{padding:"4px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}}),swatchStyles:St(t.props.color),componentId:"wps-component-"+t.props.pickerType+"-color-swatch",colorHasChanged:!1,submitButton:jQuery("#submitSettings")}),nt()(yt()(yt()(t)),"componentDidMount",function(e){jQuery('[data-testid="'+t.state.componentId+'"]').closest(".wps-form-group").find(".wps-placeholder").remove()}),nt()(yt()(yt()(t)),"closePicker",function(){return t.setState({displayColorPicker:!1})}),nt()(yt()(yt()(t)),"handleClick",function(){return t.setState({displayColorPicker:!t.state.displayColorPicker})}),nt()(yt()(yt()(t)),"handleClose",I()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.colorHasChanged){e.next=2;break}return e.abrupt("return",t.closePicker());case 2:t.closePicker();case 3:case"end":return e.stop()}},e,this)}))),nt()(yt()(yt()(t)),"handleChange",function(e){t.setState({swatchStyles:St(e.hex),color:e.hex,colorHasChanged:e.hex!==t.state.color})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement("div",null,_t.a.createElement("div",{className:"wps-color-swatch-wrapper",style:this.state.pickerStyles.wrapper,onClick:this.handleClick,"data-testid":this.state.componentId},_t.a.createElement("div",{className:"wps-color-swatch",style:this.state.swatchStyles,"data-color":this.state.color,"data-picker-type":this.props.pickerType})),this.state.displayColorPicker?_t.a.createElement("div",{style:this.state.pickerStyles.popover},_t.a.createElement("div",{style:this.state.pickerStyles.cover,onClick:this.handleClose}),_t.a.createElement(bt.ChromePicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),s}(_t.a.Component);var Ut=n(27),Dt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:WP_Shopify.settings.productsHeading}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-products-heading-toggle",disabled:!qr(WP_Shopify.settings.productsHeadingToggle)})}}]),s}(_t.a.Component);var Nt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:WP_Shopify.settings.collectionsHeading}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{value:this.state.value,onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-heading-toggle",disabled:!qr(WP_Shopify.settings.collectionsHeadingToggle)})}}]),s}(_t.a.Component);var Rt=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{value:WP_Shopify.settings.relatedProductsHeading,valueHasChanged:!1}),nt()(yt()(yt()(n)),"updateValue",function(e){e!==n.state.value&&(n.state.valueHasChanged=!0),n.setState({value:e})}),nt()(yt()(yt()(n)),"onRelatedProductsHeadingBlur",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.valueHasChanged){e.next=2;break}return e.abrupt("return",n.state.value);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{value:this.state.value,onChange:this.updateValue,onBlur:this.onRelatedProductsHeadingBlur,"aria-describedby":"wps-related-products-heading-toggle",disabled:!qr(WP_Shopify.settings.relatedProductsHeadingToggle)})}}]),s}(_t.a.Component);var Ft=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{checked:qr(WP_Shopify.settings.productsHeadingToggle)}),nt()(yt()(yt()(n)),"onChangeHandle",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onChangeHandle,id:"wps-products-heading-toggle"})}}]),s}(_t.a.Component);var qt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{checked:qr(WP_Shopify.settings.collectionsHeadingToggle)}),nt()(yt()(yt()(t)),"onToggleHandle",function(e){t.setState(function(e){return{checked:!t.state.checked}}),jQuery('input[aria-describedby="wps-collections-heading-toggle"]').attr("disabled",t.state.checked)}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-heading-toggle"})}}]),s}(_t.a.Component);var Gt=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{checked:qr(WP_Shopify.settings.relatedProductsHeadingToggle)}),nt()(yt()(yt()(n)),"onToggle",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState(function(e){return{checked:!n.state.checked}}),jQuery('input[aria-describedby="wps-related-products-heading-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onToggle,id:"wps-related-products-heading-toggle"})}}]),s}(_t.a.Component);var Vt=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{checked:qr(WP_Shopify.settings.productsImagesSizingToggle)}),nt()(yt()(yt()(n)),"onToggleHandle",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-products-images-sizing-toggle"})}}]),s}(_t.a.Component);var Yt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingWidth?"auto":WP_Shopify.settings.productsImagesSizingWidth}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(_t.a.Component);var $t=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.productsImagesSizingHeight?"auto":WP_Shopify.settings.productsImagesSizingHeight}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(_t.a.Component);var Jt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:WP_Shopify.settings.productsImagesSizingCrop}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(_t.a.Component);var Kt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:!1===WP_Shopify.settings.productsImagesSizingScale?"none":WP_Shopify.settings.productsImagesSizingScale}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.productsImagesSizingToggle)})}}]),s}(_t.a.Component);var Xt=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{checked:qr(WP_Shopify.settings.collectionsImagesSizingToggle)}),nt()(yt()(yt()(n)),"onToggleHandle",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-collections-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-collections-images-sizing-toggle"})}}]),s}(_t.a.Component);var Zt=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingWidth?"auto":WP_Shopify.settings.collectionsImagesSizingWidth}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(_t.a.Component);var en=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.collectionsImagesSizingHeight?"auto":WP_Shopify.settings.collectionsImagesSizingHeight}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(_t.a.Component);var tn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:WP_Shopify.settings.collectionsImagesSizingCrop}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(_t.a.Component);var nn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:!1===WP_Shopify.settings.collectionsImagesSizingScale?"none":WP_Shopify.settings.collectionsImagesSizingScale}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-collections-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.collectionsImagesSizingToggle)})}}]),s}(_t.a.Component);var rn=function(e){function s(){var e,n;it()(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(n)),"state",{checked:qr(WP_Shopify.settings.relatedProductsImagesSizingToggle)}),nt()(yt()(yt()(n)),"onToggleHandle",function(){var t=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({checked:!n.state.checked}),jQuery('[aria-describedby="wps-related-products-images-sizing-toggle"]').attr("disabled",n.state.checked);case 2:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()),n}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.e,{checked:this.state.checked,onChange:this.onToggleHandle,id:"wps-related-products-images-sizing-toggle"})}}]),s}(_t.a.Component);n(171),n(864);var an=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingWidth?"auto":WP_Shopify.settings.relatedProductsImagesSizingWidth,valueHasChanged:!1}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(_t.a.Component);var sn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:0===WP_Shopify.settings.relatedProductsImagesSizingHeight?"auto":WP_Shopify.settings.relatedProductsImagesSizingHeight,valueHasChanged:!1}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),nt()(yt()(yt()(t)),"onBlurHandle",function(e){t.setState({value:we(e.currentTarget.value)})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.j,{type:"text",value:this.state.value,onChange:this.onUpdateHandle,onBlur:this.onBlurHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(_t.a.Component);var cn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:WP_Shopify.settings.relatedProductsImagesSizingCrop}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:"none"},{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(_t.a.Component);var on=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:!1===WP_Shopify.settings.relatedProductsImagesSizingScale?"none":WP_Shopify.settings.relatedProductsImagesSizingScale}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"None",value:!1},{label:"2",value:2},{label:"3",value:3}],onChange:this.onUpdateHandle,"aria-describedby":"wps-related-products-images-sizing-toggle",disabled:!qr(WP_Shopify.settings.relatedProductsImagesSizingToggle)})}}]),s}(_t.a.Component);var un=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{checked:qr(WP_Shopify.settings.enableCustomCheckoutDomain)}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({checked:!t.state.checked})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.c,{checked:this.state.checked,onChange:this.onUpdateHandle})}}]),s}(_t.a.Component);n(20);var pn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{checked:qr(WP_Shopify.settings.productsCompareAt)}),nt()(yt()(yt()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(_t.a.Component);var ln=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{checked:qr(WP_Shopify.settings.productsShowPriceRange)}),nt()(yt()(yt()(t)),"onChangeHandle",function(e){t.setState({checked:!t.state.checked})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.c,{checked:this.state.checked,onChange:this.onChangeHandle})}}]),s}(_t.a.Component);var dn=function(e){function s(){var e,t;it()(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=pt()(this,(e=dt()(s)).call.apply(e,[this].concat(r))),nt()(yt()(yt()(t)),"state",{value:!1===WP_Shopify.settings.checkoutButtonTarget?"none":WP_Shopify.settings.checkoutButtonTarget}),nt()(yt()(yt()(t)),"onUpdateHandle",function(e){t.setState({value:e})}),t}return gt()(s,e),ot()(s,[{key:"render",value:function(){return _t.a.createElement(Ut.i,{value:this.state.value,options:[{label:"Current tab / window",value:"_self"},{label:"New tab / window",value:"_blank"}],onChange:this.onUpdateHandle})}}]),s}(_t.a.Component);function fn(){return Be()}function gn(){if(WP_Shopify.selective_sync.all)return[];return[]}function hn(e){var t=jQuery("#wps-sync-by-collections");t.empty(),i()(e,function(e){t.append('<option id="wps-collection-option" value="'+e.id+'">'+e.title+"</option>")})}function yn(){return mn.apply(this,arguments)}function mn(){return(mn=I()(We.a.mark(function e(){var t,n,r,a,s;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(de()){e.next=2;break}return e.abrupt("return",vr());case 2:return e.next=4,Object(Oe.a)(Je());case 4:if(t=e.sent,n=Ee()(t,2),r=n[0],a=n[1],r)return e.abrupt("return",vr(Ir(r)));e.next=10;break;case 10:if(Wr(a))return e.abrupt("return",vr(Or(ue(a))));e.next=12;break;case 12:s=a[0],a[1],s.success&&w()(s,"data")?hn(s.data):vr();case 15:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function _n(){var t,e,n;jQuery("#wps-settings").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_general[wps_general_url_products]":{alphaNumeric:!1},"wps_settings_general[wps_general_url_collections]":{alphaNumeric:!1},"wps_settings_general[wps_general_num_posts]":{number:!0}},errorPlacement:function(e){jr(e.text(),"error")},submitHandler:(t=I()(We.a.mark(function e(t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,m,_,w,v,b,x,k,j,S,P,Q,T,C,W,E,O,z,I,H,B,A,M,L,U,D,N,R,F,q,G,V,Y,$,J,K,X,Z,ee,te,ne,re,ae,se,ie,ce,oe,ue,pe,le,de,fe,ge,he,ye,me,_e,we,ve,be,xe,ke,je,Se,Pe,Qe,Te,Ce;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery(t).find('input[type="submit"]'),a=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_urls_nonce_id").val(),s=jQuery(t).find("#wps_settings_general_url_products").val(),i=jQuery(t).find("#wps_settings_general_url_collections").val(),c=jQuery(t).find("#wps_settings_general_num_posts").val(),Lr(r),br(a),o=jQuery(t).find("#wps_settings_general_styles_all").attr("checked"),u=jQuery(t).find("#wps_settings_general_styles_core").attr("checked"),p=jQuery(t).find("#wps_settings_general_styles_grid").attr("checked"),l=jQuery(t).find("#wps_settings_general_price_with_currency").attr("checked"),d=jQuery(t).find("#wps_settings_general_cart_loaded").attr("checked"),f=jQuery(t).find("#wps_settings_general_enable_beta").attr("checked"),g=jQuery(t).find("#wps_settings_general_enable_cart_terms").attr("checked"),h=jQuery(t).find("#wps_settings_general_cart_terms_content").val(),y=jQuery(t).find("#wps_settings_general_products_link_to_shopify").attr("checked"),m=jQuery(t).find("#wps_settings_general_show_breadcrumbs").attr("checked"),_=jQuery(t).find("#wps_settings_general_hide_pagination").attr("checked"),w=jQuery(t).find("#wps_settings_general_save_connection_only").attr("checked"),v=jQuery(t).find("#wps_settings_general_related_products_show"),b=jQuery(t).find("#wps_settings_general_related_products_sort_random"),x=jQuery(t).find("#wps_settings_general_related_products_sort_collections"),k=jQuery(t).find("#wps_settings_general_related_products_sort_tags"),j=jQuery(t).find("#wps_settings_general_related_products_sort_vendors"),S=jQuery(t).find("#wps_settings_general_related_products_sort_types"),P=jQuery(t).find("#wps_settings_general_related_products_amount").val(),Q=jQuery(t).find('.wps-color-swatch[data-picker-type="add-to-cart"]').attr("data-color"),T=jQuery(t).find('.wps-color-swatch[data-picker-type="variant"]').attr("data-color"),C=jQuery(t).find('.wps-color-swatch[data-picker-type="checkout"]').attr("data-color"),W=jQuery(t).find('.wps-color-swatch[data-picker-type="cart-icon"]').attr("data-color"),E=jQuery(t).find('.wps-color-swatch[data-picker-type="cart-counter"]').attr("data-color"),O=jQuery(t).find("#wps-products-heading-toggle").prop("checked"),z=jQuery(t).find("#wps-collections-heading-toggle").prop("checked"),I=jQuery(t).find("#wps-related-products-heading-toggle").prop("checked"),H=jQuery(t).find("#wps-settings-related-products-heading input").val(),B=jQuery(t).find("#wps-settings-products-heading input").val(),A=jQuery(t).find("#wps-settings-collections-heading input").val(),M=jQuery(t).find("#wps-enable-custom-checkout-domain input").prop("checked"),L=jQuery(t).find("#wps-settings-products-show-price-range input").prop("checked"),U=jQuery(t).find("#wps-products-images-sizing-toggle").prop("checked"),D=jQuery(t).find("#wps-settings-products-images-sizing-width input").val(),N=jQuery(t).find("#wps-settings-products-images-sizing-height input").val(),R=jQuery(t).find("#wps-settings-products-images-sizing-crop select").val(),F=jQuery(t).find("#wps-settings-products-images-sizing-scale select").val(),q=jQuery(t).find("#wps-settings-collections-images-sizing-toggle input").prop("checked"),G=jQuery(t).find("#wps-settings-collections-images-sizing-width input").val(),V=jQuery(t).find("#wps-settings-collections-images-sizing-height input").val(),Y=jQuery(t).find("#wps-settings-collections-images-sizing-crop select").val(),$=jQuery(t).find("#wps-settings-collections-images-sizing-scale select").val(),J=jQuery(t).find("#wps-related-products-images-sizing-toggle").prop("checked"),K=jQuery(t).find("#wps-settings-related-products-images-sizing-width input").val(),X=jQuery(t).find("#wps-settings-related-products-images-sizing-height input").val(),Z=jQuery(t).find("#wps-settings-related-products-images-sizing-crop select").val(),ee=jQuery(t).find("#wps-settings-related-products-images-sizing-scale select").val(),te=jQuery(t).find("#wps-settings-products-compare-at input").prop("checked"),ne=jQuery(t).find("#wps-settings-checkout-button-target select").val(),ae=0,jQuery(t).find("#wps-sync-by-collections").val(),se=parseInt(jQuery(t).find("#wps-items-per-request-amount").text()),void 0!==jQuery(t).find("#wps_settings_general_selective_sync_all")&&jQuery(t).find("#wps_settings_general_selective_sync_all").attr("checked"),ie=jQuery(t).find("#wps_settings_general_selective_sync_products").attr("checked"),ce=jQuery(t).find("#wps_settings_general_selective_sync_collections").attr("checked"),oe=jQuery(t).find("#wps_settings_general_selective_sync_customers").attr("checked"),ue=jQuery(t).find("#wps_settings_general_selective_sync_orders").attr("checked"),v.is(":checked")&&(ae=1),b.is(":checked")&&(re=b.val()),x.is(":checked")&&(re=x.val()),k.is(":checked")&&(re=k.val()),j.is(":checked")&&(re=j.val()),S.is(":checked")&&(re=S.val()),at()(ie),at()(ce),at()(oe),at()(ue),pe="undefined"!==at()(y)&&!1!==y?1:0,le="undefined"!==at()(m)&&!1!==m?1:0,de="undefined"!==at()(_)&&!1!==_?1:0,fe="undefined"!==at()(w)&&!1!==w?1:0,ge="undefined"!==at()(d)&&!1!==d?1:0,he="undefined"!==at()(f)&&!1!==f?1:0,ye="undefined"!==at()(g)&&!1!==g?1:0,me="undefined"!==at()(o)&&!1!==o?1:0,_e="undefined"!==at()(u)&&!1!==u?1:0,we="undefined"!==at()(p)&&!1!==p?1:0,ve="undefined"!==at()(l)&&!1!==l?1:0,n={wps_settings_general_products_url:s,wps_settings_general_collections_url:i,wps_settings_general_num_posts:c,wps_settings_general_products_link_to_shopify:pe,wps_settings_general_show_breadcrumbs:le,wps_settings_general_hide_pagination:de,wps_settings_general_styles_all:me,wps_settings_general_styles_core:_e,wps_settings_general_styles_grid:we,wps_settings_general_price_with_currency:ve,wps_settings_general_cart_loaded:ge,wps_settings_general_enable_beta:he,wps_settings_general_enable_cart_terms:ye},nt()(n,"wps_settings_general_enable_cart_terms",ye),nt()(n,"wps_settings_general_save_connection_only",fe),nt()(n,"wps_settings_general_related_products_show",ae),nt()(n,"wps_settings_general_related_products_sort",re),nt()(n,"wps_settings_general_related_products_amount",P),nt()(n,"wps_settings_general_cart_terms_content",h),nt()(n,"wps_settings_general_items_per_request",se),nt()(n,"wps_settings_general_add_to_cart_color",Q),nt()(n,"wps_settings_general_variant_color",T),nt()(n,"wps_settings_general_checkout_button_color",C),nt()(n,"wps_settings_general_cart_icon_color",W),nt()(n,"wps_settings_general_cart_counter_color",E),nt()(n,"wps_settings_general_products_heading_toggle",O),nt()(n,"wps_settings_general_products_heading",B),nt()(n,"wps_settings_general_collections_heading_toggle",z),nt()(n,"wps_settings_general_collections_heading",A),nt()(n,"wps_settings_general_related_products_heading_toggle",I),nt()(n,"wps_settings_general_related_products_heading",H),nt()(n,"wps_settings_products_images_sizing_toggle",U),nt()(n,"wps_settings_products_images_sizing_width",D),nt()(n,"wps_settings_products_images_sizing_height",N),nt()(n,"wps_settings_products_images_sizing_crop",R),nt()(n,"wps_settings_products_images_sizing_scale",F),nt()(n,"wps_settings_collections_images_sizing_toggle",q),nt()(n,"wps_settings_collections_images_sizing_width",G),nt()(n,"wps_settings_collections_images_sizing_height",V),nt()(n,"wps_settings_collections_images_sizing_crop",Y),nt()(n,"wps_settings_collections_images_sizing_scale",$),nt()(n,"wps_settings_related_products_images_sizing_toggle",J),nt()(n,"wps_settings_related_products_images_sizing_width",K),nt()(n,"wps_settings_related_products_images_sizing_height",X),nt()(n,"wps_settings_related_products_images_sizing_crop",Z),nt()(n,"wps_settings_related_products_images_sizing_scale",ee),nt()(n,"wps_settings_products_compare_at",te),nt()(n,"wps_settings_checkout_enable_custom_checkout_domain",M),nt()(n,"wps_settings_products_show_price_range",L),nt()(n,"wps_settings_checkout_button_target",ne),be=n,e.next=91,Object(Oe.a)(Ie(be));case 91:if(xe=e.sent,ke=Ee()(xe,2),je=ke[0],Se=ke[1],je)return jr(Ir(je)),e.abrupt("return");e.next=98;break;case 98:if(Wr(Se))return jr(Or(Se),zr(Se)),e.abrupt("return");e.next=101;break;case 101:return e.next=103,Object(Oe.a)(fn());case 103:if(Pe=e.sent,Qe=Ee()(Pe,2),Te=Qe[0],Ce=Qe[1],Te)return jr(Ir(Te)),e.abrupt("return");e.next=110;break;case 110:if(Wr(Ce))return jr(Or(Ce),zr(Ce)),e.abrupt("return");e.next=113;break;case 113:WP_Shopify.itemsPerRequest=se,jr("Successfully updated WP Shopify settings","updated");case 115:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}),jQuery(".wps-checkbox-all input").on("click",function(){var e=jQuery(this);"undefined"!==at()(e.attr("checked"))&&!1!==e.attr("checked")?e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("checked",!1).prop("checked",!1).attr("disabled",!0).parent().addClass("wps-is-disabled"):e.closest(".wps-checkbox-wrapper").find(".wps-checkbox").attr("disabled",!1).parent().removeClass("wps-is-disabled")}),jQuery(".wps-sub-section-link").on("click",function(e){e.preventDefault();var t=jQuery(this).data("sub-section");jQuery(".wps-sub-section-link").removeClass("current"),jQuery(this).addClass("current"),jQuery(".wps-admin-sub-section").removeClass("is-active"),jQuery("#"+t).addClass("is-active")}),jQuery(".wps-chosen").chosen({no_results_text:"Oops, nothing found!",width:"300px"}).change(function(e){}),yn(),e=jQuery(".wps-slider-items-per-request"),n=jQuery("#wps-items-per-request-amount"),e.slider({range:"max",value:parseInt(n.text()),min:1,max:parseInt(WP_Shopify.maxItemsPerRequest),slide:function(e,t){n.text(t.value)}}),vt.a.render(_t.a.createElement(Ht,null),document.getElementById("wps-color-picker-add-to-cart")),vt.a.render(_t.a.createElement(It,null),document.getElementById("wps-color-picker-variant")),vt.a.render(_t.a.createElement(Bt,null),document.getElementById("wps-color-picker-checkout")),vt.a.render(_t.a.createElement(At,null),document.getElementById("wps-color-picker-cart-counter")),vt.a.render(_t.a.createElement(Mt,null),document.getElementById("wps-color-picker-cart-icon")),vt.a.render(_t.a.createElement(Ft,null),document.getElementById("wps-settings-products-heading-toggle")),vt.a.render(_t.a.createElement(Dt,null),document.getElementById("wps-settings-products-heading")),vt.a.render(_t.a.createElement(qt,null),document.getElementById("wps-settings-collections-heading-toggle")),vt.a.render(_t.a.createElement(Nt,null),document.getElementById("wps-settings-collections-heading")),vt.a.render(_t.a.createElement(Rt,null),document.getElementById("wps-settings-related-products-heading")),vt.a.render(_t.a.createElement(Gt,null),document.getElementById("wps-settings-related-products-heading-toggle")),vt.a.render(_t.a.createElement(Vt,null),document.getElementById("wps-settings-products-images-sizing-toggle")),vt.a.render(_t.a.createElement(Yt,null),document.getElementById("wps-settings-products-images-sizing-width")),vt.a.render(_t.a.createElement($t,null),document.getElementById("wps-settings-products-images-sizing-height")),vt.a.render(_t.a.createElement(Jt,null),document.getElementById("wps-settings-products-images-sizing-crop")),vt.a.render(_t.a.createElement(Kt,null),document.getElementById("wps-settings-products-images-sizing-scale")),vt.a.render(_t.a.createElement(Xt,null),document.getElementById("wps-settings-collections-images-sizing-toggle")),vt.a.render(_t.a.createElement(Zt,null),document.getElementById("wps-settings-collections-images-sizing-width")),vt.a.render(_t.a.createElement(en,null),document.getElementById("wps-settings-collections-images-sizing-height")),vt.a.render(_t.a.createElement(tn,null),document.getElementById("wps-settings-collections-images-sizing-crop")),vt.a.render(_t.a.createElement(nn,null),document.getElementById("wps-settings-collections-images-sizing-scale")),vt.a.render(_t.a.createElement(rn,null),document.getElementById("wps-settings-related-products-images-sizing-toggle")),vt.a.render(_t.a.createElement(an,null),document.getElementById("wps-settings-related-products-images-sizing-width")),vt.a.render(_t.a.createElement(sn,null),document.getElementById("wps-settings-related-products-images-sizing-height")),vt.a.render(_t.a.createElement(cn,null),document.getElementById("wps-settings-related-products-images-sizing-crop")),vt.a.render(_t.a.createElement(on,null),document.getElementById("wps-settings-related-products-images-sizing-scale")),vt.a.render(_t.a.createElement(un,null),document.getElementById("wps-enable-custom-checkout-domain")),vt.a.render(_t.a.createElement(pn,null),document.getElementById("wps-settings-products-compare-at")),vt.a.render(_t.a.createElement(ln,null),document.getElementById("wps-settings-products-show-price-range")),vt.a.render(_t.a.createElement(dn,null),document.getElementById("wps-settings-checkout-button-target"))}function wn(e){return e.preventDefault(),yr("Disconnecting","Cancel disconnecting"),new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p,l,d,f,g,h,y,m,_,w,v,b,x,k,j,S,P,Q,T,C,W;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return wr("Checking for active connection ..."),WP_Shopify.isDisconnecting=!0,e.next=4,Object(Oe.a)(new Promise(function(t,r){var a="check_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));case 4:if(r=e.sent,a=Ee()(r,2),s=a[0],i=a[1],s)return Tn(et(s)),t(),e.abrupt("return");e.next=12;break;case 12:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=16;break;case 16:if(Wr(i))return e.next=19,Object(Oe.a)(Promise.all([Be(),Ce(),ke(),Fe()]));e.next=41;break;case 19:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),t(),e.abrupt("return");e.next=27;break;case 27:if(Wr(p))return Tn(Ze(ue(p))),t(),e.abrupt("return");e.next=31;break;case 31:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=35;break;case 35:return jr("Successfully removed all data","updated"),kr("notice_warning_app_uninstalled"),me(!1),Tn({headingText:"Disconnected",stepText:"Finished disconnecting"}),t(),e.abrupt("return");case 41:return _r(),wr("Removing added Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),e.next=45,Object(Oe.a)(tr());case 45:if(l=e.sent,d=Ee()(l,2),f=d[0],g=d[1],f)return Tn(et(f)),t(),e.abrupt("return");e.next=53;break;case 53:if(Wr(g))return Tn(Ze(ue(g))),t(),e.abrupt("return");e.next=57;break;case 57:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=61;break;case 61:return e.next=63,Object(Oe.a)(ar());case 63:if(h=e.sent,y=Ee()(h,2),m=y[0],_=y[1],m)return Tn(et(m)),t(),e.abrupt("return");e.next=71;break;case 71:if(Wr(_))return Tn(Ze(ue(_))),t(),e.abrupt("return");e.next=75;break;case 75:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=79;break;case 79:return me(!1),e.next=82,Object(Oe.a)(ke());case 82:if(w=e.sent,v=Ee()(w,2),b=v[0],x=v[1],b)return Tn(et(b)),t(),e.abrupt("return");e.next=90;break;case 90:if(Wr(x))return Tn(Ze(ue(x))),t(),e.abrupt("return");e.next=94;break;case 94:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=98;break;case 98:return _r(),wr("Cleaning up ..."),e.next=102,Object(Oe.a)(Ve());case 102:if(k=e.sent,j=Ee()(k,2),S=j[0],P=j[1],S)return Tn(et(S)),t(),e.abrupt("return");e.next=110;break;case 110:if(Wr(P))return Tn(Ze(ue(P))),t(),e.abrupt("return");e.next=114;break;case 114:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=118;break;case 118:return e.next=120,Object(Oe.a)(Ke());case 120:if(Q=e.sent,T=Ee()(Q,2),C=T[0],W=T[1],C)return Tn(et(C)),t(),e.abrupt("return");e.next=128;break;case 128:if(Wr(W))return Tn(Ze(ue(W))),t(),e.abrupt("return");e.next=132;break;case 132:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),t(),e.abrupt("return");e.next=136;break;case 136:Tn({headingText:"Disconnected",stepText:"Finished disconnecting"});case 137:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function vn(){var e=jQuery("#wps-connect");e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.connect"),jQuery("#wps-connect").off("submit.validate"),jQuery("#wps-connect").data("validator",null),e.off("submit.disconnect").on("submit.disconnect",wn)}function bn(){vn()}function xn(){var t,n;jQuery("#wps-button-sync").off().on("click",function(e){return e.preventDefault(),yr("Resyncing","Cancel resync"),new Promise((n=I()(We.a.mark(function e(k,t){var n,r,a,s,i,c,o,u,p,l,d,f;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _r(),wr("Preparing for sync ..."),e.next=4,Object(Oe.a)(fn());case 4:if(n=e.sent,r=Ee()(n,2),a=r[0],s=r[1],a)return Tn(et(a)),k(),e.abrupt("return");e.next=12;break;case 12:if(Wr(s))return Tn(Ze(s)),k(),e.abrupt("return");e.next=16;break;case 16:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=20;break;case 20:return _r(),wr("Validating Shopify connection ..."),e.next=24,Object(Oe.a)(Re());case 24:if(i=e.sent,c=Ee()(i,2),o=c[0],u=c[1],o)return Tn(et(o)),k(),e.abrupt("return");e.next=32;break;case 32:if(Wr(u))return Tn(Ze(u)),k(),e.abrupt("return");e.next=36;break;case 36:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=40;break;case 40:return _r(),wr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=44,Object(Oe.a)(ar());case 44:if(p=e.sent,l=Ee()(p,2),d=l[0],f=l[1],d)return Tn(et(d)),k(),e.abrupt("return");e.next=52;break;case 52:if(Wr(f))return Tn(Ze(f)),k(),e.abrupt("return");e.next=56;break;case 56:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=60;break;case 60:Fn(function(){var t=I()(We.a.mark(function e(t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,m,_,w,v,b,x;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Er(t))return Tn(et(t)),k(),e.abrupt("return");e.next=4;break;case 4:if(Wr(t))return Tn(Ze(t)),k(),e.abrupt("return");e.next=8;break;case 8:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=12;break;case 12:return e.next=14,Object(Oe.a)(tr());case 14:if(n=e.sent,r=Ee()(n,2),a=r[0],s=r[1],a)return Tn(et(a)),k(),e.abrupt("return");e.next=22;break;case 22:if(Wr(s))return Tn(Ze(s)),k(),e.abrupt("return");e.next=26;break;case 26:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=30;break;case 30:return _r(),wr("Determining the number of items to sync ..."),e.next=34,Object(Oe.a)(cr());case 34:if(i=e.sent,c=Ee()(i,2),o=c[0],u=c[1],o)return Tn(et(o)),k(),e.abrupt("return");e.next=42;break;case 42:if(Wr(u))return Tn(Ze(u)),k(),e.abrupt("return");e.next=46;break;case 46:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=50;break;case 50:return p=fe(he(ge(Fr(u)))),e.next=53,Object(Oe.a)(rr(p,["webhooks"]));case 53:if(l=e.sent,d=Ee()(l,2),f=d[0],g=d[1],f)return Tn(et(f)),k(),e.abrupt("return");e.next=61;break;case 61:if(Wr(g))return Tn(Ze(g)),k(),e.abrupt("return");e.next=65;break;case 65:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=69;break;case 69:return e.next=71,Object(Oe.a)(ve());case 71:if(h=e.sent,y=Ee()(h,2),m=y[0],_=y[1],m)return Tn(et(m)),k(),e.abrupt("return");e.next=79;break;case 79:if(Wr(_))return Tn(Ze(_)),k(),e.abrupt("return");e.next=83;break;case 83:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=87;break;case 87:return e.next=89,Object(Oe.a)(En(!0,gn(),["webhooks"]));case 89:if(w=e.sent,v=Ee()(w,2),b=v[0],x=v[1],b)return Tn(et(b)),k(),e.abrupt("return");e.next=97;break;case 97:if(Wr(x))return Tn(Ze(x)),k(),e.abrupt("return");e.next=101;break;case 101:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),k(),e.abrupt("return");e.next=105;break;case 105:_r(),xr("Cancel resyncing process"),wr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),Hn(ye(p,["webhooks"])),An(),sr(p);case 111:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}());case 61:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}));var n}),jQuery(".wps-is-active #wps-button-clear-cache").unbind().on("click",(t=I()(We.a.mark(function e(t){var n,r,a,s,i,c;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),Lr(n),br(r),Nr(n),ae(),e.next=9,Object(Oe.a)(fn());case 9:a=e.sent,s=Ee()(a,2),i=s[0],c=s[1],i&&jr(Ir(i)),Wr(c)&&(Or(c),zr(c)),jr("Successfully cleared the WP Shopify cache","updated");case 16:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})),jQuery("#wps-button-clear-all-data").unbind().on("click",(n=I()(We.a.mark(function e(t){var n,r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Warning: This will delete all WordPress posts created from your Shopify data. Do you really want to remove?"))return t.preventDefault(),n=jQuery(this),r=n.parent().find(".spinner"),Lr(n),br(r),Nr(n),ae(),WP_Shopify.isClearing=!0,e.prev=9,e.next=12,Re();e.next=65;break;case 12:if(Wr(a=e.sent))return jr(Or(a),zr(a)),e.abrupt("return");e.next=16;break;case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(9),jr(Ir(e.t0)),e.abrupt("return");case 22:if(de()){e.next=51;break}return e.prev=23,e.next=26,fn();case 26:if(Wr(s=e.sent))return jr(Or(s),zr(s)),e.abrupt("return");e.next=30;break;case 30:e.next=36;break;case 32:return e.prev=32,e.t1=e.catch(23),jr(Ir(e.t1)),e.abrupt("return");case 36:return e.next=38,Object(Oe.a)(Promise.all([ze(),ke(),Fe()]));case 38:if(i=e.sent,c=Ee()(i,2),o=c[0],u=c[1],o)return jr(Ir(o)),e.abrupt("return");e.next=45;break;case 45:if(Wr(u))return jr(ue(u)),e.abrupt("return");e.next=48;break;case 48:Fn(I()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jr("Successfully removed all data","updated"),kr("notice_warning_app_uninstalled"),e.abrupt("return");case 3:case"end":return e.stop()}},e,this)}))),e.next=65;break;case 51:return e.prev=51,e.next=54,ze();case 54:if(Wr(p=e.sent))return jr(Or(p),zr(p)),e.abrupt("return");e.next=58;break;case 58:e.next=64;break;case 60:return e.prev=60,e.t2=e.catch(51),jr(Ir(e.t2)),e.abrupt("return");case 64:Fn(I()(We.a.mark(function e(){var t,n;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr();case 3:if(Wr(t=e.sent))return jr(Or(t),zr(t)),e.abrupt("return");e.next=7;break;case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),jr(Ir(e.t0)),e.abrupt("return");case 13:if(de())return e.prev=14,e.next=17,Ke();e.next=31;break;case 17:if(Wr(n=e.sent))return jr(Or(n),zr(n)),e.abrupt("return");e.next=21;break;case 21:e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(14),jr(Ir(e.t1)),e.abrupt("return");case 27:jr("Successfully removed all data","updated"),kr("notice_warning_app_uninstalled"),e.next=46;break;case 31:return e.prev=31,e.next=34,Ke();case 34:if(Wr(n=e.sent))return jr(Or(n),zr(n)),e.abrupt("return");e.next=38;break;case 38:e.next=44;break;case 40:return e.prev=40,e.t2=e.catch(31),jr(Ir(e.t2)),e.abrupt("return");case 44:jr("Successfully removed all data","updated"),kr("notice_warning_app_uninstalled");case 46:case"end":return e.stop()}},e,this,[[0,9],[14,23],[31,40]])})));case 65:case"end":return e.stop()}},e,this,[[9,18],[23,32],[51,60]])})),function(e){return n.apply(this,arguments)}))}function kn(e){var t=[];return g()(e.data.syncing_errors)||i()(e.data.syncing_errors.error,function(e){t.push({type:"error",message:e})}),g()(e.data.syncing_warnings)||i()(e.data.syncing_warnings.warning,function(e){t.push({type:"warning",message:e})}),t}function jn(e,t){var n=!1;return i()(e,function(e){e.type===t&&(n=!0)}),n}function Sn(e){return jn(e,"error")}function Pn(e){return jn(e,"warning")}function Qn(){de()?(xn(),bn(),jQuery("#submitConnect").val("Disconnect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitDisconnect").attr("id","submitDisconnect"),jQuery("#wps-connect .wps-form-group input").prop("disabled",!0).attr("disabled",!0),jQuery(".tab-content .wps-is-not-active").removeClass("wps-is-not-active").addClass("wps-is-active"),jQuery('.wps-is-active.wps-button-group input[type="submit"]').prop("disabled",!1),jQuery("#wps-sync-by-collections-checkbox-wrapper").addClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").removeClass("wps-is-hidden"),yn()):(vr(),jQuery("#wps-connect .wps-form-group input").val("").removeClass("valid").prop("disabled",!1),Ur(Cr()),Lr(jQuery("#wps-button-sync, #wps-button-webhooks")),jQuery('#submitDisconnect, #wps-connect .wps-button-group input[type="submit"]').val("Connect your Shopify store").prop("disabled",!1).attr("disabled",!1).attr("name","submitConnect").attr("id","submitConnect"),lr())}function Tn(){return Cn.apply(this,arguments)}function Cn(){return(Cn=I()(We.a.mark(function e(){var u,p,l,d=arguments;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=0<d.length&&void 0!==d[0]&&d[0],Z())return e.prev=2,e.next=5,Ne();e.next=32;break;case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error("WP Shopify error: Failed to kill sync: ",e.t0);case 10:if(Nn())return Wn(),Tr(u),Qn(),e.abrupt("return");e.next=15;break;case 15:return e.prev=15,e.next=18,new Promise(function(t,r){var a="get_syncing_notices";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})});case 18:p=e.sent,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(15),console.error("WP Shopify error: Failed to get sync notices: ",e.t1);case 24:WP_Shopify.reconnectingWebhooks=!1,Wn(),Qn(),l=u.noticeList?u.noticeList:_e((o=kn(p),Ge()(o,"type","desc"))),ae(),fn(),Tr({headingText:(i=l,c=u,c&&c.headingText?c.headingText:Sn(i)?"Sync failed with errors":Pn(i)?"Sync completed with warnings":"Sync completed successfully"),buttonText:(s=u,s&&s.buttonText?s.buttonText:"Close WP Shopify Sync"),status:(a=u,a&&a.status?a.status:de()?"is-connected":"is-disconnected"),stepText:(n=l,r=u,r&&r.stepText?r.stepText:Sn(n)?"Finished syncing with errors":Pn(n)?"Finished syncing with warnings":"Finished syncing"),noticeList:l,xMark:(t=u,!(!t||!t.xMark)&&t.xMark)}),ee(!1);case 32:case"end":return e.stop()}var t,n,r,a,s,i,c,o},e,this,[[2,7],[15,21]])}))).apply(this,arguments)}function Wn(){jQuery(".wps-connector").addClass("wps-is-finished")}function En(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(a,s,i);case 3:r=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),n(e.t0),e.abrupt("return");case 10:return t(r),e.abrupt("return",r);case 12:case"end":return e.stop()}},e,this,[[0,6]])}));return function(e,t){return n.apply(this,arguments)}}())}function On(e,t){var n,r,a;jQuery(".wps-connector-content > .wps-progress-notice").first().after((r=e,"products"===(a=(n=t).split("_").join(" "))&&(a="Products <small>(includes images, tags, variants, etc)</small>",r*=6),"custom_collections"===a&&(r*=2),"smart_collections"===a&&(r*=2),"shop"===a&&(a="Shop <small>(includes store name, location, phone number, etc)</small>"),"collects"===a&&(a="Collects <small>(used to assign products to collections)</small>"),jQuery('<div class="wps-progress-bar-wrapper" data-wps-progress-total="'+r+'" id="wps-progress-bar-'+n+'"><span class="wps-progress-step-name">'+a+'</span><span class="wps-progress-step-percentage">0%</span><div class="wps-progress-bar"></div><span class="dashicons dashicons-yes"></span></div>')))}function zn(e,t){jQuery("#wps-progress-bar-"+t).data("wps-progress-total",e).attr("data-wps-progress-total",e)}function In(e,t){var n,r,a,s=(n=e,(r=jQuery("#wps-progress-bar-"+t)).find(".wps-progress-bar"),n/r.data("wps-progress-total")*100),i=jQuery("#wps-progress-bar-"+t);isNaN(s)||(e==i.data("wps-progress-total")&&(i.hasClass("wps-is-complete")||(i.addClass("wps-is-complete"),W(i.find(".dashicons-yes")))),i.find(".wps-progress-bar").css("width",s+"%"),i.find(".wps-progress-step-percentage").text((a=Math.round(s),isFinite(a)?a+"%":"Checking ...")))}function Hn(e){return d()(e)?i()(e,function(e){return Q()(e,On)}):Q()(e.wps_syncing_totals,On)}function Bn(){var e=jQuery(".wps-progress-bar-wrapper");W(jQuery(".wps-progress-bar-wrapper:not(.wps-is-complete) .dashicons-yes")),e.addClass("wps-is-complete"),e.find(".wps-progress-bar").css("width","100%"),e.find(".wps-progress-step-percentage").text("100%")}function An(){return Mn.apply(this,arguments)}function Mn(){return(Mn=I()(We.a.mark(function e(){var s,i,c,o,u,p,l,d,f=arguments;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 0<f.length&&void 0!==f[0]&&f[0],e.next=3,Object(Oe.a)(new Promise(function(t,r){var a="progress_status";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));case 3:if(s=e.sent,i=Ee()(s,2),c=i[0],o=i[1],c)return Bn(),e.abrupt("return",Tn(et(c)));e.next=10;break;case 10:if(w()(o,"data")){e.next=13;break}return Bn(),e.abrupt("return",Tn({xMark:!0}));case 13:if(a=o.data.syncing_totals,Q()(a,zn),r=o.data.syncing_current_amounts,Q()(r,In),t=o.data.syncing_totals,n=o.data.syncing_current_amounts,B()(t,n)){e.next=19;break}setTimeout(An,800),e.next=46;break;case 19:if(o.data.has_fatal_errors)return e.abrupt("return",Tn({xMark:!0}));e.next=23;break;case 23:if(WP_Shopify.reconnectingWebhooks&&Dn())return Bn(),_r(),wr("Cleaning up ..."),e.abrupt("return",Tn({noticeList:[{type:"success",stepText:"Finished syncing webhooks",message:"Success! You've finished reconnecting the Shopify webhooks."}]}));e.next=28;break;case 28:if(!Dn()||Nn()||Rn())return e.abrupt("return",Tn());e.next=32;break;case 32:return Bn(),_r(),wr("Finishing sync ..."),e.next=37,Object(Oe.a)(Xe());case 37:if(u=e.sent,p=Ee()(u,2),l=p[0],d=p[1],l)return e.abrupt("return",Tn(et(l)));e.next=43;break;case 43:if(Wr(d))return e.abrupt("return",Tn(Ze(ue(d))));e.next=45;break;case 45:Ln(I()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tn());case 1:case"end":return e.stop()}},e,this)})));case 46:case"end":return e.stop()}var t,n,r,a},e,this)}))).apply(this,arguments)}function Ln(e){return Un.apply(this,arguments)}function Un(){return(Un=I()(We.a.mark(function e(t){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Dn()){e.next=2;break}return e.abrupt("return",Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}));case 2:return e.prev=2,e.next=5,new Promise(function(t,r){var a="get_posts_relationships_status";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})});case 5:e.sent.data?t():setTimeout(function(){Ln(t)},500),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("getPostRelationshipsStatus error: ",e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}))).apply(this,arguments)}function Dn(){return WP_Shopify.isSyncing}function Nn(){return WP_Shopify.manuallyCanceled}function Rn(){return WP_Shopify.isDisconnecting}function Fn(e){return qn.apply(this,arguments)}function qn(){return(qn=I()(We.a.mark(function e(t){var n,r,a,s;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)(new Promise(function(t,r){var a="get_data_removal_status";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));case 2:if(n=e.sent,r=Ee()(n,2),a=r[0],s=r[1],a)return t(a),e.abrupt("return");e.next=9;break;case 9:s.data?t(s):setTimeout(function(){Fn(t)},1e3);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Gn(e){var t=parseInt(WP_Shopify.itemsPerRequest);return e=parseInt(e),{currentPage:1,pages:Math.ceil(e/t),items:[]}}function Vn(){return Yn.apply(this,arguments)}function Yn(){return(Yn=I()(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)(new Promise(function(t,r){var a="get_shop";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));case 2:if(r=e.sent,a=Ee()(r,2),s=a[0],i=a[1],s)return Tn(et(s)),n(),e.abrupt("return");e.next=10;break;case 10:if(Wr(i))return Tn(Ze(i)),t(),e.abrupt("return");e.next=14;break;case 14:return i=i.data,e.next=17,Object(Oe.a)(xe(i));case 17:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),n(),e.abrupt("return");e.next=25;break;case 25:if(Wr(p))return Tn(Ze(p)),t(),e.abrupt("return");e.next=29;break;case 29:t(p);case 30:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function $n(e){return Jn.apply(this,arguments)}function Jn(){return(Jn=I()(We.a.mark(function e(l){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.products){e.next=3;break}return t(),e.abrupt("return");case 3:r=Gn(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Oe.a)(Le(a));e.next=24;break;case 8:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(Wr(p))return Tn(Ze(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Kn(l){return new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WP_Shopify.selective_sync.all||WP_Shopify.selective_sync.products){e.next=3;break}return t(),e.abrupt("return");case 3:r=Gn(l),a=r.currentPage,s=r.pages,r.items,i=[];case 5:if(a<=s)return e.next=8,Object(Oe.a)(Me(a));e.next=24;break;case 8:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),t(),e.abrupt("break",24);e.next=16;break;case 16:if(Wr(p))return Tn(Ze(p)),t(),e.abrupt("break",24);e.next=20;break;case 20:i.push(p),a+=1,e.next=5;break;case 24:t(i);case 25:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Xn(l){return new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=Gn(l),a=r.currentPage,s=r.pages,r.items,i=[];case 2:if(a<=s)return e.next=5,Object(Oe.a)(Ue(a));e.next=21;break;case 5:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),t(),e.abrupt("break",21);e.next=13;break;case 13:if(Wr(p))return Tn(Ze(p)),t(),e.abrupt("break",21);e.next=17;break;case 17:i.push(p),a+=1,e.next=2;break;case 21:return t(i),e.abrupt("return");case 23:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function Zn(e){return er.apply(this,arguments)}function er(){return(er=I()(We.a.mark(function e(l){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=Gn(l),s=a.currentPage,i=a.pages,a.items;case 2:if(s<=i)return e.next=5,Object(Oe.a)(De(s));e.next=21;break;case 5:if(c=e.sent,o=Ee()(c,2),u=o[0],p=o[1],u)return Tn(et(u)),t(),e.abrupt("break",21);e.next=13;break;case 13:if(Wr(p))return Tn(Ze(p)),t(),e.abrupt("break",21);e.next=17;break;case 17:r.push(p),s+=1,e.next=2;break;case 21:t(r);case 22:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function tr(){return He(1)}function nr(e){return n=e,new Promise(function(t,r){var a="save_connection";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,connectionData:n,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})});var n}function rr(e){return function(e){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new Promise(function(t,r){var a="insert_syncing_totals";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce,counts:e,exclusions:n},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})}(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:[])}function ar(){return Ce()}function sr(e){return ir.apply(this,arguments)}function ir(){return(ir=I()(We.a.mark(function e(n){var r,a=arguments;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1<a.length&&void 0!==a[1]&&a[1],WP_Shopify.isSyncing=!0,t=n,n=Object.assign.apply(Object,[{}].concat(s()(t))),r=[Xn(n.smart_collections),Zn(n.custom_collections),Vn(),$n(n.products),Kn(n.collects)],e.abrupt("return",Promise.all(r));case 5:case"end":return e.stop()}var t},e,this)}))).apply(this,arguments)}function cr(){return Promise.all([new Promise(function(t,r){var a="get_smart_collections_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}),new Promise(function(t,r){var a="get_custom_collections_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}),new Promise(function(t,r){var a="get_products_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}),new Promise(function(t,r){var a="get_collects_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}),new Promise(function(t,r){var a="get_shop_count";jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})})])}function or(){var e=jQuery("#wps-connect"),n=e.find('input[type="submit"]');jQuery("#wps-connect").off("submit.disconnect"),e.on("submit.connect",function(e){e.preventDefault()}).validate({rules:{js_access_token:{alphaNumeric:!0},shared_secret:{alphaNumeric:!0},api_key:{alphaNumeric:!0},password:{alphaNumeric:!0},domain:{domainRule:!0}},success:function(e){var t;t=n,e.addClass("valid").text("Ok!"),jQuery("#wps-errors").addClass("wps-is-hidden"),Ur(t)},errorPlacement:function(e){jr(e.text(),"error")},submitHandler:function(e){var k,n;k=e,yr("Connecting","Cancel connection"),new Promise((n=I()(We.a.mark(function e(x,t){var n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,m,_,w,v,b;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return wr("Preparing Shopify connection ..."),e.next=3,Object(Oe.a)(fn());case 3:if(n=e.sent,r=Ee()(n,2),a=r[0],s=r[1],a)return Tn(et(a)),x(),e.abrupt("return");e.next=11;break;case 11:if(Wr(s))return Tn(Ze(s)),x(),e.abrupt("return");e.next=15;break;case 15:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=19;break;case 19:return _r(),wr("Validating Shopify connection ..."),e.next=23,Object(Oe.a)(Re());case 23:if(i=e.sent,c=Ee()(i,2),o=c[0],u=c[1],o)return Tn(et(o)),x(),e.abrupt("return");e.next=31;break;case 31:if(Wr(u))return Tn(Ze(ue(u))),x(),e.abrupt("return");e.next=35;break;case 35:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=39;break;case 39:return _r(),wr("Saving Shopify connection ..."),e.next=43,Object(Oe.a)(nr((t=jQuery(k).serializeArray(),(t=JSON.parse(JSON.stringify(t))).reduce(function(e,t){return e[t.name]=t.value,e},{}))));case 43:if(p=e.sent,l=Ee()(p,2),d=l[0],f=l[1],d)return Tn(et(d)),x(),e.abrupt("return");e.next=51;break;case 51:if(Wr(f))return Tn(Ze(ue(f))),x(),e.abrupt("return");e.next=55;break;case 55:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=59;break;case 59:if(me(WP_Shopify.isConnecting=!0),pr(f))return e.next=64,Object(Oe.a)(Vn());e.next=83;break;case 64:if(g=e.sent,h=Ee()(g,2),y=h[0],m=h[1],y)return Tn(et(y)),x(),e.abrupt("return");e.next=72;break;case 72:if(Wr(m))return Tn(Ze(ue(m))),x(),e.abrupt("return");e.next=76;break;case 76:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=80;break;case 80:return Tn({headingText:"Connection saved",stepText:"Finished saving Shopify connection only"}),x(),e.abrupt("return");case 83:return _r(),wr("Removing any existing data first ...","(Please wait, this might take 30 seconds or so)"),e.next=87,Object(Oe.a)(ar());case 87:if(_=e.sent,w=Ee()(_,2),v=w[0],b=w[1],v)return Tn(et(v)),x(),e.abrupt("return");e.next=95;break;case 95:if(Wr(b))return Tn(Ze(ue(b))),x(),e.abrupt("return");e.next=99;break;case 99:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=103;break;case 103:Fn(I()(We.a.mark(function e(){var t,n,r,a,s,i,c,o,u,p,l,d,f,g,h,y,m,_,w,v,b;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Oe.a)(tr());case 2:if(t=e.sent,n=Ee()(t,2),r=n[0],a=n[1],r)return Tn(et(r)),x(),e.abrupt("return");e.next=10;break;case 10:if(Wr(a))return Tn(Ze(ue(a))),x(),e.abrupt("return");e.next=14;break;case 14:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=18;break;case 18:return _r(),wr("Starting connection ..."),e.next=22,Object(Oe.a)(En(!0,gn()));case 22:if(s=e.sent,i=Ee()(s,2),c=i[0],o=i[1],c)return Tn(et(c)),x(),e.abrupt("return");e.next=30;break;case 30:if(Wr(o))return Tn(Ze(ue(o))),x(),e.abrupt("return");e.next=34;break;case 34:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=38;break;case 38:return _r(),wr("Determining the number of items to sync ..."),e.next=42,Object(Oe.a)(cr());case 42:if(u=e.sent,p=Ee()(u,2),l=p[0],d=p[1],l)return Tn(et(l)),x(),e.abrupt("return");e.next=50;break;case 50:if(Wr(d))return Tn(Ze(ue(d))),x(),e.abrupt("return");e.next=54;break;case 54:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=58;break;case 58:return e.next=60,Object(Oe.a)(ve());case 60:if(f=e.sent,g=Ee()(f,2),h=g[0],y=g[1],h)return Tn(et(h)),x(),e.abrupt("return");e.next=68;break;case 68:if(Wr(y))return Tn(Ze(y)),x(),e.abrupt("return");e.next=72;break;case 72:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=76;break;case 76:return m=fe(he(ge(Fr(d)))),e.next=79,Object(Oe.a)(rr(m));case 79:if(_=e.sent,w=Ee()(_,2),v=w[0],b=w[1],v)return Tn(et(v)),x(),e.abrupt("return");e.next=87;break;case 87:if(Wr(b))return Tn(Ze(ue(b))),x(),e.abrupt("return");e.next=91;break;case 91:if(Nn())return Tn({xMark:!0,stepText:"Syncing canceled",headingText:"Syncing canceled",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}]}),x(),e.abrupt("return");e.next=95;break;case 95:_r(),mr("Syncing"),xr("Cancel syncing process"),wr("Syncing Shopify data ...","(Please wait, this may take up to 5 minutes depending on the size of your store and speed of internet connection.)"),Hn(m),An(),sr(m,!0);case 102:case"end":return e.stop()}},e,this)})));case 104:case"end":return e.stop()}var t},e,this)})),function(e,t){return n.apply(this,arguments)}))}})}function ur(){var e,t,n=jQuery("#wps-connect").find('input[type="submit"]');ae(),jQuery("body").find(".wps-connector-wrapper").remove(),(Br(e=jQuery("#wps_settings_general_domain").val())||function(e){if(!e.indexOf("myshopify.com"))return!1;var t=e.split("myshopify.com");return 1<t.length||void 0}(e))&&jQuery("#wps_settings_general_domain").val((-1<(t=e).indexOf("http://")&&(t=t.replace("http://","")),-1<t.indexOf("https://")&&(t=t.replace("https://","")),-1<t.indexOf("myshopify.com/")&&(t=(t=t.split("myshopify.com/"))[0]+"myshopify.com"),t)),Lr(n),i()(n,Dr),ne(!1),ee(!0)}function pr(e){return"1"==e.data.save_connection_only}function lr(){or()}var dr=n(143),fr=n.n(dr);function gr(){return jQuery('<span class="dashicons dashicons-no"></span>')}function hr(){return jQuery('<span class="dashicons dashicons-yes"></span>')}function yr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";ur();var n,r,a=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Connecting ...",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Cancel connection";return null===te()?jQuery('<div class="wps-connector-wrapper"><div class="wps-connector wps-connector-progress wps-animated wps-fadeInDown"><h1 class="wps-connector-heading"><span>'+e+'</span> <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/shopify.svg" /> to <img class="wps-connector-logo" src="'+WP_Shopify.pluginsDirURL+'admin/imgs/logo-wp.svg" /></h1><div class="l-row"><button type="button" name="button" class="button button-primary wps-btn wps-btn-cancel">'+t+'</button></div><div class="wps-connector-content"></div></ div></div>'):te()}(e,t);n=a,jQuery("body").append(n),jQuery(".wps-btn-cancel").unbind().on("click",(r=I()(We.a.mark(function e(t){var n,r;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($e(),Sr(),WP_Shopify.manuallyCanceled=!0,WP_Shopify.isSyncing)return e.next=6,Object(Oe.a)(Ne());e.next=10;break;case 6:n=e.sent,(r=Ee()(n,2))[0],r[1];case 10:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})),function(e){if(!e.length)return;"string"==typeof e?jQuery(e).find(".wps-connector-progress").show():e.find(".wps-connector-progress").show()}(a)}function mr(e){jQuery(".wps-connector-heading span").text(e)}function _r(){jQuery(".wps-connector-content .wps-progress-notice:first-child").append(hr()),jQuery(".wps-connector-content .wps-progress-notice:first-child .spinner").removeClass("is-active"),jQuery(".wps-connector-content .wps-progress-notice:first-child").addClass("is-inactive"),W(jQuery(".wps-connector-content .wps-progress-notice:first-child").find(".dashicons"))}function wr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";Z()&&function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";re()||(t="error"===n?jQuery('<div class="wps-progress-notice wps-progress-notice-error"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+"</small></span></div></div>"):jQuery('<div class="wps-progress-notice wps-progress-notice-success"><div class="wps-progress-notice-group"><span class="wps-progress-text">'+e+'<small class="wps-progress-text-supporting">'+r+'</small></span><div class="spinner is-active"></div></div></div>'),jQuery(".wps-connector-wrapper").find(".wps-connector-content").prepend(t))}(e,"",t)}function vr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery("#wps-sync-by-collections-checkbox-wrapper .notice").replaceWith('<p class="notice notice-error inline">'+fr.a.decode(e)+"</p>"),jQuery("#wps-sync-by-collections-checkbox-wrapper").removeClass("wps-is-hidden"),jQuery("#wps-sync-by-collections-wrapper").addClass("wps-is-hidden")}function br(e){e.toggleClass("wps-is-active")}function xr(e){jQuery(".wps-btn-cancel").text(e)}function kr(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&jQuery('.notice[data-dismiss-name="'+e+'"]').fadeOut()}function jr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error",n="";e&&y()(e)&&(n=fr.a.decode(e));var r=jQuery("#wps-errors"),a=jQuery('<div class="wps-notice notice is-dismissible '+t+'"><p>'+n+'</p><button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');r.empty().removeClass("wps-is-hidden").append(a),jQuery(".wps-notice.is-dismissible .notice-dismiss").on("click",function(e){jQuery(e.currentTarget).parent().fadeOut()});var s=r.find(".notice");"updated"===t&&setTimeout(function(){s.slideUp("fast",function(){r.addClass("wps-is-hidden")})},5e3),Ur(jQuery(".wps-button-group .spinner.wps-is-active").prev()),jQuery(".wps-button-group .spinner.wps-is-active").removeClass("wps-is-active")}function Sr(){Ur(jQuery('#wps-connect input[type="submit"]'))}function Pr(){jQuery(".wps-btn-cancel").unbind().on("click",function(){jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),ae()}),jQuery(document).on("click",function(e){jQuery(e.target).closest(".wps-connector").length||(jQuery(".wps-connector-wrapper").remove(),jQuery(document).unbind(),ae())}),Ur(jQuery(".wps-btn-cancel").blur()),Sr()}function Qr(e){C()(e)||(e={type:"warning",message:e});var t=jQuery('<div class="notice notice-'+e.type+'">'+fr.a.decode(e.message)+"</div>");jQuery(".wps-connector-heading").after(t)}function Tr(){var e,n,t,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=(e=a,M()({headingText:"Canceled",stepText:"Stopped syncing",status:"is-disconnected",buttonText:"Close WP Shopify Sync",noticeList:[{type:"warning",message:"The syncing process was manually canceled early."}],errorCode:"",clearInputs:!0,noticeType:"warning"},e));Pr(),n=s,jQuery(".wps-progress-notice").not(".is-inactive").each(function(){var e=jQuery(this),t=e.find(".spinner");t.length&&(t.remove(),!0===n.xMark?e.append(gr()):(e.append(hr()),W(e.find(".dashicons-yes"))))}),mr(s.headingText),xr(s.buttonText),t=s.stepText,jQuery(".wps-connector-content .wps-progress-notice:first-child .wps-progress-text").text(t),"is-connected"===(de()?"is-connected":"is-disconnected")?jQuery(".wps-status-heading .wps-status").removeClass("is-disconnected").addClass("is-connected").text("Connected"):jQuery(".wps-status-heading .wps-status").removeClass("is-connected").addClass("is-disconnected").text("Disconnected"),r=s,d()(r.noticeList)&&!g()(r.noticeList)&&i()(r.noticeList,Qr)}function Cr(){return jQuery(".wps-connector .wps-btn-cancel")}function Wr(e){var t=!1;return p()(e)&&w()(e,"success")&&(e.success||(t=!0)),d()(e)&&!g()(e)&&i()(e,function(e){p()(e)&&w()(e,"success")&&(e.success||(t=!0))}),t}function Er(e){return!!(p()(e)&&w()(e,"statusCode")&&w()(e,"message"))}function Or(e){return y()(e)?e:p()(e)&&w()(e,"data")&&w()(e.data,"message")?e.data.message:p()(e)&&w()(e,"message")?e.message:p()(e)&&w()(e,"data")?d()(e.data)?y()(e.data[0])?e.data[0]:w()(e.data[0],"message")?e.data[0].message:"An unknown error occured. Please clear the plugin cache and try again.":Object.values(e.data)[0].errors.error[0]:d()(e)?b()(e,function(e){return!e.success})[0].data.message:"It looks like something unexpected happened. Please clear the plugin cache and try again."}function zr(e){return p()(e)&&w()(e,"data")&&w()(e.data,"type")?e.data.type:"error"}function Ir(e){if(o()(e))return"WP Shopify javascript error: "+e.message;if(p()(e)&&w()(e,"statusCode")&&w()(e,"message")){var t=w()(e,"action_name")?e.action_name:"unknown location";return e.message.toLowerCase().replace(/^\w/,function(e){return e.toUpperCase()})+" while calling "+t+". Please clear the plugin transient cache and try again. Error status code: "+e.statusCode}return!1}function Hr(e){return-1!==e.indexOf(".myshopify.com")}function Br(e){return-1<e.indexOf("http://")||-1<e.indexOf("https://")}function Ar(e){return!!k()(e,{protocols:["http","https"],require_tld:!0,require_protocol:!0,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,host_whitelist:!1,host_blacklist:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1})}function Mr(e){return e.match("^[a-zA-Z0-9]*$")}function Lr(e){e.prop("disabled",!0).attr("disabled",!0)}function Ur(e){e.prop("disabled",!1).attr("disabled",!1)}function Dr(e){jQuery(e).parent().next().addClass("wps-is-active"),Lr(jQuery(e))}function Nr(e){e.next().addClass("wps-is-active"),Lr(e)}function Rr(e){e.next().removeClass("wps-is-active"),e.prop("disabled",!1),Ur(e)}function Fr(e){return e.map(function(e){return e.data})}function qr(e){return 1==e}function Gr(){"submitDisconnect"===jQuery("#wps-connect").find('input[type="submit"]').attr("name")?bn():lr()}function Vr(){jQuery.validator.addMethod("containsProtocol",Br,"Please remove http:// or https:// from domain"),jQuery.validator.addMethod("domainRule",Hr,'Domain must contain ".myshopify.com"'),jQuery.validator.addMethod("alphaNumeric",Mr,"Must contain only numbers and letters"),jQuery.validator.addMethod("urlRule",Ar,"Must be a valid URL"),jQuery.fn.extend({animateCss:function(e,t){this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass("animated "+e),t()})}})}function Yr(){jQuery(".wps-admin-wrap .nav-tab").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("tab"),r=jQuery(".wps-admin-wrap .nav-tab.nav-tab-active"),a=jQuery('.wps-admin-wrap .nav-tab[data-tab="'+n+'"]'),s=jQuery('.wps-admin-wrap .tab-content[data-tab-content="'+n+'"]'),i=jQuery(".wps-admin-wrap .tab-content.tab-content-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",Jr(window.location.href,"activetab",t)),i.removeClass("tab-content-active"),r.removeClass("nav-tab-active"),a.addClass("nav-tab-active"),s.addClass("tab-content-active"),c.addClass("wps-is-hidden")})}function $r(){jQuery(".wps-submenu .wps-sub-section-link").on("click",function(e){e.preventDefault();var t,n=jQuery(this).data("sub-section"),r=jQuery(".wps-submenu .wps-sub-section-link.current"),a=jQuery('.wps-sub-section-link[data-sub-section="'+n+'"]'),s=jQuery("#"+n),i=jQuery(".wps-admin-sub-section.is-active"),c=jQuery("#wps-errors");t=n,window.history.pushState({},"",Jr(window.location.href,"activesubnav",t)),i.removeClass("tab-content-active"),r.removeClass("current"),a.addClass("current"),s.addClass("is-active"),c.addClass("wps-is-hidden")})}function Jr(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n}function Kr(o){return new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},a={},e.prev=2,e.next=5,Se(o);case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",n("Error: unable to get license key. Please try again."));case 11:return e.prev=11,e.next=14,na(r);case 14:s=e.sent,e.next=20;break;case 17:return e.prev=17,e.t1=e.catch(11),e.abrupt("return",n(e.t1));case 20:if(s)return e.prev=21,e.next=24,Pe(o);e.next=47;break;case 24:if(a=e.sent,p()(a)){e.next=27;break}return e.abrupt("return",n("Error: invalid license key format. Please try again."));case 27:e.next=32;break;case 29:return e.prev=29,e.t2=e.catch(21),e.abrupt("return",n("Error: unable to activate license key. Please try again."));case 32:return e.prev=32,i=ta(a,o),e.next=36,Qe(i);case 36:if(Wr(c=e.sent))throw c.data;e.next=39;break;case 39:t(c.data),e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(32),e.abrupt("return",n(e.t3));case 45:e.next=48;break;case 47:return e.abrupt("return",n(s));case 48:case"end":return e.stop()}},e,this,[[2,8],[11,17],[21,29],[32,42]])}));return function(e,t){return n.apply(this,arguments)}}())}function Xr(e){var t=jQuery("#wps-license"),n=t.find('input[type="submit"]'),r=t.find("#wps_settings_general_license"),a=jQuery(".wps-postbox-license-info");n.data("status","deactivate"),n.attr("data-status","deactivate"),n.val("Deactivate License"),r.val(function(e,t,n){if(e){var r=e.length,a=e.substr(r-n),s=e.slice(0,-n);return s.length,new Array(s.length+1).join(t)+a}}(e.license_key,"",4)),r.removeClass("error"),function(e){var t,n,r=jQuery(".wps-col-license-limit"),a=jQuery(".wps-col-license-name"),s=jQuery(".wps-col-license-email"),i=jQuery(".wps-col-license-expire"),c=jQuery(".wps-col-license-status");t=0===e.license_limit?"unlimited":e.license_limit;n=e.site_count,e.success&&(c.text("Active"),c.removeClass("wps-col-license-status-inactive").addClass("wps-col-license-status-active"));r.text(n+" / "+t),a.text(e.customer_name),s.text(e.customer_email),"false"!==e.lifetime&&e.lifetime?i.text("Never expires"):i.text(function(e){var t=Date.parse(e);if(0==isNaN(t)){var n=new Date(t);return S()(n,"mmmm d, yyyy")}}(e.expires));e.is_local&&r.append('<small class="wps-table-supporting">(Activations on dev environments don\'t add to total)</small>')}(e),a.removeClass("wps-is-hidden").animateCss("wps-fadeInRight",function(){a.removeClass("wps-fadeInRight")}),Lr(jQuery("#wps_settings_general_license"))}function Zr(){var e=jQuery("#wps-license"),t=e.find('input[type="submit"]'),n=e.find("#wps_settings_general_license"),r=jQuery(".wps-postbox-license-info");t.data("status","activate"),t.attr("data-status","activate"),t.val("Activate License"),n.val(""),n.attr("disabled",!1),n.prop("disabled",!1),n.removeClass("error valid"),r.animateCss("wps-fadeOutRight",function(){r.addClass("wps-is-hidden")})}function ea(){var t;jQuery("#wps-license").submit(function(e){e.preventDefault()}).validate({rules:{"wps_settings_license[wps_key]":{alphaNumeric:!0}},errorPlacement:function(e){jr(e.text(),"error")},submitHandler:(t=I()(We.a.mark(function e(t){var n,r,a,s,i;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=jQuery(t).find('input[type="submit"]'),r=jQuery(t).find(".spinner"),jQuery("#wps_settings_general_nonce_license_id").val(),jQuery(t).find("#wps_settings_general_license"),a=jQuery(t).find("#wps_settings_general_license").val(),jQuery(".wps-postbox-license-info"),Lr(n),br(r),Nr(n),"activate"===n.data("status"))return e.prev=5,e.next=8,Kr(a);e.next=32;break;case 8:s=e.sent,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(5),Rr(n),jr(e.t0,"error"),e.abrupt("return",e.t0);case 16:return e.prev=16,e.next=19,je(a);case 19:i=e.sent,e.next=27;break;case 22:return e.prev=22,e.t1=e.catch(16),Rr(n),jr(e.t1,"error"),e.abrupt("return",e.t1);case 27:ra({productInfo:i}),Xr(s),jr("Successfully activated license key. Enjoy :)","updated"),e.next=44;break;case 32:return e.prev=32,e.next=35,new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery('#wps-license input[type="submit"]'),jQuery("#wps_settings_license_license"),jQuery(".wps-postbox-license-info"),e.prev=1,e.next=4,Te();case 4:if(Wr(a=e.sent))throw a.data;e.next=7;break;case 7:t(a),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),Ur(r),e.abrupt("return",n(e.t0));case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(e,t){return n.apply(this,arguments)}}());case 35:e.sent,Zr(),jr("Successfully deactivated license key","updated"),e.next=44;break;case 40:e.prev=40,e.t2=e.catch(32),Rr(n),jr(e.t2,"error");case 44:Ur(n),br(r),Rr(n);case 47:case"end":return e.stop()}},e,this,[[5,11],[16,22],[32,40]])})),function(e){return t.apply(this,arguments)})})}function ta(e,t){var n=e;return"lifetime"===n.expires?(n.expires=new Date("January 1, 1970"),n.lifetime=!0):n.lifetime=!1,n.license_key=t,n}function na(r){return new Promise(function(){var n=I()(We.a.mark(function e(t,n){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("invalid"===r.license)return e.abrupt("return",n("This license key is invalid or disabled. Please double check / re-enter your key."));e.next=2;break;case 2:if("expired"===r.license)return e.abrupt("return",n('This license key is expired. Please login and renew your key at <a href="https://wpshop.io/account" target="_blank">wpshop.io/account</a>'));e.next=4;break;case 4:if("revoked"===r.license)return e.abrupt("return",n('This license key has been disabled. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=6;break;case 6:if("missing"===r.license)return e.abrupt("return",n('This license key cannot be found. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=8;break;case 8:if("item_name_mismatch"===r.license)return e.abrupt("return",n('This appears to be an invalid license key for WP Shopify. Please purchase a new key at <a href="https://wpshop.io/purchase" target="_blank">wpshop.io/purchase</a>'));e.next=10;break;case 10:if(r.license,r.activations_left<0)return e.abrupt("return",n("This license key has reached it's activation limit. Please upgrade."));e.next=15;break;case 15:return e.abrupt("return",t(!0));case 16:case"end":return e.stop()}},e,this)}));return function(e,t){return n.apply(this,arguments)}}())}function ra(e){var t=jQuery("#wps-plugin-info"),n=t.find(".wps-col-plugin-version"),r=(t.find(".wps-col-plugin-update-avail"),t.find(".wps-col-plugin-name")),a=t.find(".wps-col-tested-up-to");e&&e.productInfo.banners&&(r.text(e.productInfo.name),n.text(e.productInfo.new_version),a.text(e.productInfo.tested_up_to))}function aa(){return(aa=I()(We.a.mark(function e(){var n;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ea(),e.prev=1,e.next=4,new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise(function(){var n=I()(We.a.mark(function e(t,n){var r,a,s,i,c,o,u,p;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=jQuery("#wps-license"),a=jQuery("#wps-license > .spinner"),r.find('input[type="submit"]'),r.find(".spinner"),r.find("#wps_settings_general_license"),jQuery(".wps-postbox-license-info"),jQuery(".wps-postbox-license-activation"),jQuery("#wps-plugin-info"),br(jQuery("#wps-plugin-info > .spinner")),br(a),e.prev=3,e.next=6,new Promise(function(t,r){var a="license_get";jQuery.ajax({method:"GET",url:WP_Shopify.ajax,data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})});case 6:if(Wr(s=e.sent))return e.abrupt("return",t());e.next=11;break;case 11:i=s.data;case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",n(e.t0));case 17:return e.prev=17,e.next=20,Se(i);case 20:c=e.sent,e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(17),e.abrupt("return",n(e.t1));case 26:return e.prev=26,e.next=29,na(c);case 29:o=e.sent,e.next=46;break;case 32:return e.prev=32,e.t2=e.catch(26),e.prev=34,e.next=37,Te();case 37:if(Wr(u=e.sent))throw u.data;e.next=40;break;case 40:e.next=45;break;case 42:return e.prev=42,e.t3=e.catch(34),e.abrupt("return",n(e.t3));case 45:return e.abrupt("return",n(e.t2));case 46:if(o){e.next=60;break}return e.prev=47,e.next=50,Te();case 50:if(Wr(p=e.sent))throw p.data;e.next=53;break;case 53:e.next=58;break;case 55:return e.prev=55,e.t4=e.catch(47),e.abrupt("return",n(e.t4));case 58:e.next=61;break;case 60:t(s.data);case 61:case"end":return e.stop()}},e,this,[[3,14],[17,23],[26,32],[34,42],[47,55]])}));return function(e,t){return n.apply(this,arguments)}}());case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 9:return e.prev=9,e.next=12,je(r);case 12:a=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e.catch(9),e.abrupt("return",n(e.t1));case 18:t({licenseKey:r,productInfo:a});case 19:case"end":return e.stop()}},e,this,[[0,6],[9,15]])}));return function(e,t){return n.apply(this,arguments)}}());case 4:n=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),jr(e.t0,"error"),Zr();case 11:ra(n),t=void 0,(t=jQuery("#wps-license, #wps-plugin-info")).addClass("wps-is-ready"),t.find(".wps-is-hidden").removeClass("wps-is-hidden");case 13:case"end":return e.stop()}var t},e,this,[[1,7]])}))).apply(this,arguments)}function sa(){jQuery(".wps-help-tip").tooltipster({animation:"fade",delay:0,animationDuration:[100,100],interactive:!0,IEmin:8,timer:0})}function ia(){var t;jQuery("#wps-button-migrate").off().on("click",(t=I()(We.a.mark(function e(n){var r,a,s,i,c,o;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=jQuery(this),(a=r.parent()).find(".spinner"),Ur(t=r),Rr(t),window.confirm("Warning: This will modify your database tables to be compatible with the new (1.2.2) version of WP Shopify. Please don't leave this screen until the migration finishes. Finally, please ensure that you've made a backup as potential data loss could occur!"))return a.addClass("is-working"),Nr(r),e.next=10,Object(Oe.a)(new Promise(function(t,r){var a="run_table_migration_"+WP_Shopify.latestVersionCombined;jQuery.ajax({method:"POST",url:WP_Shopify.ajax,dataType:"json",data:{action:a,nonce:WP_Shopify.nonce},success:function(e){return t(e)},error:function(e,t,n){r(se(e,n,a))}})}));e.next=29;break;case 10:if(s=e.sent,i=Ee()(s,2),c=i[0],o=i[1],c)return Rr(r),a.removeClass("is-working"),e.abrupt("return",jr(Ir(c)));e.next=18;break;case 18:if(Wr(o))return jr(Or(o),zr(o)),Rr(r),a.removeClass("is-working"),e.abrupt("return");e.next=23;break;case 23:Rr(r),a.removeClass("is-working"),Lr(r),jr("Successfully migrated database tables to the latest version of WP Shopify! You're ready to go!","updated"),e.next=31;break;case 29:Rr(r),a.removeClass("is-working");case 31:case"end":return e.stop()}var t},e,this)})),function(e){return t.apply(this,arguments)}))}function ca(){jQuery(".wps-submit-menu-cart-icon").on("click",function(){var e=setInterval(function(){jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').length&&(jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').closest(".field-description").hide(),clearInterval(e))},500)}),jQuery('#menu-to-edit .menu-item .field-description .edit-menu-item-description:contains("WP Shopify Cart Icon")').hide()}_.noConflict(),jQuery(function(){jQuery("body").hasClass("wp-shopify_page_wps-settings")&&(sa(),Yr(),$r(),Vr(),Gr(),function(){aa.apply(this,arguments)}(),_n(),xn(),ca(),ia()),xt()})}});